try{window.performance.mark("async-confluence-sprint-report-retros-button-bridge-defer.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-confluence-sprint-report-retros-button-bridge-defer"],{"./node_modules/@atlaskit/button--next/dist/es2019/loading-button.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n.n(s),i=n("./node_modules/@atlaskit/button--next/dist/es2019/button.js"),c=n("./node_modules/@atlaskit/button--next/dist/es2019/shared/loading-spinner.js");function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}
const d=a.a.forwardRef((function(e,t){let{isLoading:n=!1}=e,r=l(e,["isLoading"]);return a.a.createElement(i.a,o()({},r,{ref:t,overlay:n?a.a.createElement(c.a,r):null}))}));d.displayName="LoadingButton",t.a=d},"./node_modules/@atlaskit/button--next/dist/es2019/shared/loading-spinner.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./node_modules/@atlaskit/spinner/dist/es2019/spinner.js");function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i({appearance:e,isDisabled:t,isSelected:n}){return t?"inherit":n||"primary"===e||"danger"===e?"invert":"inherit"}function c(e){
let{spacing:t="default"}=e,n=a(e,["spacing"]);const r="default"===t?"medium":"small";return o.a.createElement(s.a,{size:r,appearance:i(n)})}},"./node_modules/@atlaskit/onboarding/dist/es2019/components/SpotlightCard.js":function(e,t,n){"use strict"
;var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/react/index.js"),c=n.n(i),l=n("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/theme.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js"),p=n("./node_modules/@atlaskit/theme/dist/es2019/utils/createTheme.js"),b=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),f=n("./node_modules/@atlaskit/theme/dist/es2019/utils/math.js"),m=n("./node_modules/@atlaskit/theme/dist/es2019/typography.js"),g=n("./node_modules/@atlaskit/onboarding/dist/es2019/styled/Dialog.js");function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){
var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const j=d.default.div(["",";"],(({theme:e})=>e)),y=d.default.div(["display:flex;flex-direction:column;padding:","px ","px;"],Object(f.multiply)(b.gridSize,2),Object(f.multiply)(b.gridSize,2.5)),O=d.default.h4(["",";color:inherit;"],m.h600),k=d.default.div(["display:flex;justify-content:space-between;align-items:baseline;padding-bottom:","px;"],b.gridSize),w=d.default.div(["display:flex;justify-content:space-between;align-items:center;padding-top:","px;"],b.gridSize),v=Object(p.a)((()=>({container:{overflow:"auto",borderRadius:`${Object(b.borderRadius)()}px`,height:"fit-content",zIndex:`${b.layers.spotlight()+1}`}}))),F=({actions:e=[],actionsBeforeElement:t,children:n,components:r={},image:o,heading:s,headingAfterElement:a,theme:i,innerRef:l,testId:d})=>{const{Header:p=k,Footer:b=w}=r;return c.a.createElement(v.Provider,{value:i
},c.a.createElement(v.Consumer,null,(({container:r})=>c.a.createElement(j,{theme:r,innerRef:l,"data-testid":d},"string"==typeof o?c.a.createElement("img",{src:o,alt:""}):o,c.a.createElement(y,null,s||a?c.a.createElement(p,null,c.a.createElement(O,null,s),a||c.a.createElement("span",null)):null,n,e.length>0||t?c.a.createElement(b,null,t||c.a.createElement("span",null),c.a.createElement(g.b,null,e.map(((e,t)=>{let{text:n,key:r}=e,o=h(e,["text","key"]);return c.a.createElement(g.a,{key:r||("string"==typeof n?n:`${t}`)},c.a.createElement(u.a,o,n))})))):null)))))};var x=c.a.forwardRef(((e,t)=>c.a.createElement(F,o()({},e,{innerRef:t})))),E=n("./node_modules/@atlaskit/onboarding/dist/es2019/components/theme.js");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class R extends c.a.Component{render(){const{actions:e,actionsBeforeElement:t,children:n,components:r,isFlat:o,heading:s,headingAfterElement:a,image:i,innerRef:d,theme:u,width:p,testId:b}=this.props
;return c.a.createElement(l.a.Provider,{value:E.b},c.a.createElement(x,{testId:b,ref:d,heading:s,headingAfterElement:a,actions:e,actionsBeforeElement:t,components:r,image:i,theme:e=>{const t=e({}),{container:n}=t,r=_(t,["container"]);return u((()=>P(P({},r),{},{container:P({background:"#6554C0",color:"#FFFFFF",width:`${Math.min(Math.max(p,160),600)}px`,boxShadow:o?void 0:"0 4px 8px -2px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31)"},n)})),{})}},n))}}R.displayName="SpotlightCard",a()(R,"defaultProps",{width:400,isFlat:!1,components:{},theme:e=>e()});t.a=c.a.forwardRef(((e,t)=>c.a.createElement(R,o()({},e,{innerRef:t}))))},"./node_modules/@atlaskit/onboarding/dist/es2019/components/theme.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));const i={default:{background:{default:{light:"#5243AA",dark:"#5243AA"},hover:{light:"#8777D9",
dark:"#8777D9"},active:{light:"#403294",dark:"#403294"},disabled:{light:"#5243AA",dark:"#5243AA"},selected:{light:"#BF2600",dark:"#BF2600"},focus:{light:"#5243AA",dark:"#5243AA"}},boxShadow:{focus:{light:"#998DD9 0 0 0 2px",dark:"#998DD9 0 0 0 2px"}},color:{default:{light:"#FFFFFF",dark:"#FFFFFF"},hover:{light:"#FFFFFF",dark:"#FFFFFF"},active:{light:"#FFFFFF",dark:"#FFFFFF"},disabled:{light:"#FFFFFF",dark:"#1B2638"},selected:{light:"#FFFFFF",dark:"#FFFFFF"},focus:{light:"#FFFFFF",dark:"#FFFFFF"}},outline:{focus:{light:"none",dark:"none"}}},subtle:{background:{default:{light:"none",dark:"none"},hover:{light:"#8777D9",dark:"#8777D9"},active:{light:"#403294",dark:"#403294"},disabled:{light:"none",dark:"none"},selected:{light:"#253858",dark:"#0D1424"},focusSelected:{light:"#253858",dark:"#0D1424"}},boxShadow:{focus:{light:"#998DD9 0 0 0 2px",dark:"#998DD9 0 0 0 2px"}},color:{default:{light:"#FFFFFF",dark:"#FFFFFF"},hover:{light:"#FFFFFF",dark:"#FFFFFF"},active:{light:"#FFFFFF",
dark:"#FFFFFF"},disabled:{light:"#FFFFFF",dark:"#FFFFFF"},selected:{light:"#FFFFFF",dark:"#FFFFFF"},focus:{light:"#FFFFFF",dark:"#FFFFFF"}},outline:{focus:{light:"none",dark:"none"}}},"subtle-link":{textDecoration:{hover:{light:"underline #C0B6F2",dark:"underline #C0B6F2"}},textDecorationLine:{active:{light:"none",dark:"none"}},boxShadow:{focus:{light:"#998DD9 0 0 0 2px",dark:"#998DD9 0 0 0 2px"}},color:{default:{light:"#FFFFFF",dark:"#FFFFFF"},hover:{light:"#C0B6F2",dark:"#C0B6F2"},active:{light:"#998DD9",dark:"#998DD9"},disabled:{light:"#403294",dark:"#403294"},selected:{light:"#FFFFFF",dark:"#FFFFFF"},focus:{light:"#FFFFFF",dark:"#FFFFFF"}}}},c={primary:{background:{default:{light:"#5243AA",dark:"#5243AA"},hover:{light:"#8777D9",dark:"#8777D9"},active:{light:"#403294",dark:"#403294"},disabled:{light:"#EBECF0",dark:"#3B475C"},selected:{light:"#BF2600",dark:"#BF2600"},focus:{light:"#5243AA",dark:"#5243AA"}},boxShadow:{focus:{light:"#998DD9 0 0 0 2px",dark:"#998DD9 0 0 0 2px"}},color:{
default:{light:"#FFFFFF",dark:"#FFFFFF"},disabled:{light:"#FFFFFF",dark:"#1B2638"},selected:{light:"#FFFFFF",dark:"#FFFFFF"},focus:{light:"#FFFFFF",dark:"#FFFFFF"}}}};function l(e,{mode:t,appearance:n,state:r}){if(!e[n])return;const o=e[n];return Object.keys(o).reduce(((e,n)=>{let s=o;return[n,r,t].forEach((t=>{s[t]&&("object"==typeof s[t]?s=s[t]:e[n]=s[t])})),e}),{})}const d=(e,t)=>{const n=e(t),{buttonStyles:r}=n,s=a(n,["buttonStyles"]);return o({buttonStyles:o(o({},r),l(i,t))},s)},u=(e,t)=>{const n=e(t),{buttonStyles:r}=n,s=a(n,["buttonStyles"]);return o({buttonStyles:o(o({},r),l(c,t))},s)}},"./node_modules/@atlaskit/onboarding/dist/es2019/styled/Dialog.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}))
;var r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),s=n("./node_modules/@atlaskit/theme/dist/es2019/utils/math.js");Object(s.multiply)(o.gridSize,2),Object(s.multiply)(o.gridSize,3),o.gridSize,o.gridSize;const a=r.default.img(["height:auto;max-width:100%;"]),i=(Object(s.multiply)(o.gridSize,3),Object(s.multiply)(o.gridSize,2),r.default.div(["display:flex;margin:0 -","px;flex-direction:row-reverse;"],Object(s.divide)(o.gridSize,2))),c=r.default.div(["margin:0 ","px;"],Object(s.divide)(o.gridSize,2))},"./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}))
;var r=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(i),l=n("./node_modules/@babel/runtime/helpers/createClass.js"),d=n.n(l),u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),p=n.n(u),b=n("./node_modules/@atlassiansox/engagekit/dist/esm/services/engage-targeting.js"),f=function(){function e(t,n){if(c()(this,e),p()(this,"cloudId",void 0),p()(this,"stargateUrl",void 0),!t||!n)throw new Error("Need a valid CloudId and Stargate url");this.cloudId=t,this.stargateUrl=n}return d()(e,[{key:"start",value:function(){var e=a()(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.d)(this.cloudId,this.stargateUrl,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stop",value:function(){
var e=a()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.e)(this.cloudId,this.stargateUrl,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},"./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}))
;var r=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(i),l=n("./node_modules/@babel/runtime/helpers/createClass.js"),d=n.n(l),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(u),b=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(b),m=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=n.n(m),h=n("./node_modules/@babel/runtime/helpers/inherits.js"),j=n.n(h),y=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),O=n.n(y),k=n("./node_modules/react/index.js"),w=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=p()(this,(e=f()(t)).call.apply(e,[this].concat(s))),O()(g()(n),"state",{shouldRenderChildren:!1}),O()(g()(n),"stop",a()(o.a.mark((function e(){var t,r,s
;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.client,s=t.messageId,e.prev=1,e.next=4,r.stop(s);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Unable to stop flow message ".concat(s,". ").concat(e.t0));case 9:case"end":return e.stop()}}),e,this,[[1,6]])})))),n}return j()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=a()(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.client,r=t.messageId,e.prev=1,e.next=4,n.start(r);case 4:e.sent&&this.setState({shouldRenderChildren:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Unable to start flow message ".concat(r,". ").concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"injectStop",value:function(e){return Object(k.cloneElement)(e,{stop:this.stop})}},{key:"render",value:function(){
var e=this.props,t=e.fallback,n=e.children;return this.state.shouldRenderChildren?this.injectStop(n):t}}]),t}(k.PureComponent);O()(w,"defaultProps",{fallback:null})},"./node_modules/@atlassiansox/engagekit/dist/esm/coordination/useCoordination.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(i),l=n("./node_modules/react/index.js"),d=function(e,t){var n=Object(l.useState)(!1),r=c()(n,2),s=r[0],i=r[1];return Object(l.useEffect)((function(){a()(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.start(t);case 3:n.sent&&i(!0),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Unable to start flow message ".concat(t,". ").concat(n.t0));case 10:case"end":return n.stop()}}),n,this,[[0,7]])
})))()}),[t]),[s,function(){var n=a()(o.a.mark((function n(r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r||s){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,e.stop(t);case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.error("Unable to stop flow message ".concat(t,". ").concat(n.t0));case 10:case"end":return n.stop()}}),n,this,[[2,7]])})));return function(e){return n.apply(this,arguments)}}()]}},"./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/nudge-spotlight/NudgeSpotlight.js":function(e,t,n){"use strict";(function(e){
var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n.n(s),i=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js"),c=n("./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/nudge-spotlight/styled.js"),l=n("./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/shared/styled.js"),d=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsContext.js"),u=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),p=n("./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/nudge-spotlight/analyticPayloads.js"),b=n("./node_modules/@atlaskit/onboarding/dist/es2019/components/SpotlightCard.js"),f=n("./node_modules/lodash/debounce.js"),m=n.n(f);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}
return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const O=31556952e3,k=Object(s.forwardRef)(((e,t)=>{
let{setSpotlightMounted:n,setDelayValue:r,children:i}=e,c=y(e,["setSpotlightMounted","setDelayValue","children"]);return Object(s.useEffect)((()=>(r(O),n(!0),()=>{r(0),n(!1)})),[r,n]),a.a.createElement(b.a,o()({ref:t},c),i)}));t.a=Object(d.a)({componentName:"NudgeSpotlight"})(Object(u.a)({onRender:h({},p.d),onShow:h({},p.e),onHide:h({},p.b),onClick:h({},p.a),onOutsideClick:h({},p.c)})((t=>{let{onRender:n=(()=>{}),onShow:r=(()=>{}),onHide:d=(()=>{}),onClick:u=(()=>{}),onOutsideClick:p=(()=>{}),setHidden:b=(()=>{}),children:f,content:g,hidden:h,hideNudgeOnClick:j=!0,hideSpotlightOnOutsideClick:w=!1,autoShow:v=!0,zIndex:F=-1,position:x}=t,E=y(t,["onRender","onShow","onHide","onClick","onOutsideClick","setHidden","children","content","hidden","hideNudgeOnClick","hideSpotlightOnOutsideClick","autoShow","zIndex","position"])
;const S=Object(s.useRef)(null),P=Object(s.useRef)(null),[C,_]=Object(s.useState)(0),[R,D]=Object(s.useState)(!1),[T,I]=Object(s.useState)(!v),[A,N]=Object(s.useState)(!1),[B,M]=Object(s.useState)(!1),$=R||!!h,L=!$&&g,U=Object(s.useCallback)((e=>{if(!S.current)return;const[t,n]=["show"===e,"hide"===e],r=t?"mouseover":"mouseout";I(n),_(0),S.current.dispatchEvent(new MouseEvent(r,{view:window,bubbles:!0,cancelable:!0}))}),[I,_]),z=Object(s.useCallback)(m()(U,1e3,{leading:!0,trailing:!0}),[U]),H=Object(s.useCallback)(m()(r,100,{trailing:!0}),[r]),K=Object(s.useCallback)((()=>{U("hide"),D(!0),b()}),[U,b]),J=Object(s.useCallback)((()=>{I(!1),H()}),[H]),V=Object(s.useCallback)((()=>{$||(u(),j&&K())}),[$,u,j,K]),G=Object(s.useCallback)(Object(s.forwardRef)(((e,t)=>{let{children:n}=e,r=y(e,["children"]);return L?a.a.createElement(c.a,o()({},r,{innerRef:t}),a.a.createElement(k,o()({setDelayValue:_,setSpotlightMounted:N,ref:P},E),n)):null})),[L]),q=Object(s.useCallback)((e=>{
const t=S.current,n=P.current,r=e.target;$||w&&t&&r&&n&&(t.contains(r)||n.contains(r)||(U("hide"),p()))}),[$,w,U,p]),Y=Object(s.useCallback)((()=>{$||T||A&&_(O)}),[T,A,$]);return Object(s.useEffect)((()=>{const e=S.current;if(e)return e.addEventListener("mouseout",Y),()=>e.removeEventListener("mouseout",Y)}),[Y]),Object(s.useEffect)((()=>{C&&h&&_(0)}),[C,h]),Object(s.useEffect)((()=>{h&&(U("hide"),B&&(M(!1),D(!1),d()))}),[h,B,M,U,d]),Object(s.useEffect)((()=>{$||v&&(U("show"),H())}),[$,v,U,H]),Object(s.useEffect)((()=>{$||(M(!0),n())}),[n,$]),Object(s.useEffect)((()=>{$||A||T||z("show")}),[$,A,T,z]),Object(s.useEffect)((()=>{if(!$)return e((()=>window.addEventListener("click",q))),()=>window.removeEventListener("click",q)}),[$,q]),Object(s.useEffect)((()=>{if(-1===F)return;if(null===P.current)return;let e=P.current;for(;e&&!e.classList.contains("atlaskit-portal");)e=e.parentNode;e&&(e.style.zIndex=`${F}`)}),[P.current,F]),a.a.createElement(i.a,{hideTooltipOnClick:j,
hideTooltipOnMouseDown:!1,delay:C,component:G,content:L,onShow:J,position:x},a.a.createElement(l.a,{hasPulse:!$,innerRef:S,onClickCapture:V},f))})))}).call(this,n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/nudge-spotlight/analyticPayloads.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i}));const r={action:"rendered",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}},o={action:"displayed",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}},s={action:"hidden",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}},a={action:"clicked",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}},i={action:"hidden_by_outside_click",actionSubject:"nudgeTooltip",attributes:{
componentName:"nudgeTooltip"}}},"./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/nudge-spotlight/styled.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./node_modules/@atlaskit/tooltip/dist/es2019/TooltipPrimitive.js");const s=Object(r.keyframes)(["0%{opacity:0;}100%{opacity:1;}"]),a=Object(r.default)("div")(["animation:0.2s "," ease-out;animation-iteration-count:1;"],s),i=Object(r.default)(o.a)(["pointer-events:all;padding:0.5rem;"])},"./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/shared/styled.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./node_modules/@atlaskit/theme/dist/es2019/index.js"),s=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js")
;const a=o.a.P75,i=Object(r.keyframes)(["0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}"]),c=Object(r.css)(["animation:"," 3000ms "," infinite;"],i,"cubic-bezier(0.55, 0.055, 0.675, 0.19)"),l=Object(r.css)(["content:'';position:absolute;top:0;left:0;width:100%;height:100%;"]),d=r.default.span(["display:block;> *{position:relative;&::before{"," border-radius:","px;box-shadow:",";opacity:",";transition:opacity 0.1s ease-in-out;pointer-events:none;}&::after{"," border-radius:","px;box-shadow:",";opacity:0;pointer-events:none;","}}"],l,(({pulseBorderRadius:e=s.borderRadius})=>e),(({pulseColor:e=a})=>`0 0 0 3px ${e}`),(e=>e.hasPulse?1:0),l,(({pulseBorderRadius:e=s.borderRadius})=>e),(({pulseColor:e=a,pulseShadowColor:t="rgba(101, 84, 192, 1)"})=>`0 0 0 3px ${e} , 0 0 11px ${t}`),(e=>e.hasPulse&&c))},"./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/index.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return p.a})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){
return k.a})),n.d(t,"b",(function(){return A}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n.n(s),i=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js"),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./node_modules/@atlaskit/theme/dist/es2019/index.js"),d=n("./node_modules/@atlaskit/tooltip/dist/es2019/TooltipPrimitive.js");const u=Object(c.default)(d.a)(["background-color:",";border-radius:3px;box-sizing:border-box;color:white;max-width:240px;padding:8px 16px;word-wrap:break-word;overflow-wrap:break-word;&:empty{display:none;}"],l.a.P300);var p=n("./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/shared/styled.js"),b=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsContext.js"),f=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js");const m=e=>{let t=!1;return()=>{t||(t=!0,e())}};function g(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],
t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var O=Object(b.a)({componentName:"NudgeTooltip"})(Object(f.a)({onHide:h({},{action:"hidden",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}}),onShow:h({},{action:"displayed",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}}),onClick:h({},{action:"clicked",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}})})((e=>{let{onShow:t=(()=>{}),onHide:n=(()=>{}),onClick:r=(()=>{}),children:c,content:l,hidden:d,delay:b=0,hideTooltipOnClick:f=!0,minReadTime:g=1e3}=e,h=y(e,["onShow","onHide","onClick","children","content","hidden","delay","hideTooltipOnClick","minReadTime"]);const[j,O]=Object(s.useState)(!1),[k,w]=Object(s.useState)(null),v=j||!!d,F=!v&&l,x=Object(s.useCallback)((()=>{k&&clearTimeout(k),w(null)}),[k]),E=Object(s.useCallback)(m((()=>{O(!0),n()})),[]),S=Object(s.useCallback)(m((()=>r())),[]),P=Object(s.useCallback)((()=>{v||(f?(S(),
E()):r())}),[v,f,S,E,r]),C=Object(s.useCallback)(Object(s.forwardRef)(((e,t)=>a.a.createElement(u,o()({},e,{innerRef:t})))),[]);return a.a.createElement(i.a,o()({hideTooltipOnClick:f,component:C,delay:b,onShow:()=>{t(),k&&x(),w(setTimeout(x,g))},onHide:()=>{null===k&&E()},content:F},h),a.a.createElement(p.a,{hasPulse:!v,onClickCapture:P},c))}))),k=n("./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/nudge-spotlight/NudgeSpotlight.js"),w=n("./node_modules/@atlaskit/onboarding/dist/es2019/components/SpotlightCard.js");function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const F=Object(s.forwardRef)(((e,t)=>{let{children:n}=e,r=v(e,["children"])
;return a.a.createElement(p.a,o()({},r,{innerRef:t}),n)}));var x=n("./node_modules/@atlaskit/portal/dist/es2019/portal.js"),E=n("./node_modules/@atlaskit/popper/dist/es2019/Popper.js"),S=n("./node_modules/bind-event-listener/dist/index.js"),P=n("./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/nudge-spotlight/analyticPayloads.js"),C=n("./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/components/nudge-spotlight/styled.js");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const I=({fn:e,relay:t})=>(Object(s.useEffect)((()=>{t((()=>e))}),[e,t]),null);var A=Object(b.a)({componentName:"NudgeSpotlight"})(Object(f.a)({onRender:R({},P.d),onShow:R({},P.e),onHide:R({},P.b),onClick:R({},P.a),onOutsideClick:R({},P.c)})((e=>{
let{hidden:t,setHidden:n,hideNudgeOnClick:r=!0,hideSpotlightOnOutsideClick:i=!0,concealSpotlightOnReferenceHidden:c=!1,autoShow:l=!0,children:d,content:u,spotlight:p=w.a,nudge:b=F,position:f="bottom",offset:m,zIndex:g=800,onRender:h,onShow:j,onHide:y,onClick:O,onOutsideClick:k,createAnalyticsEvent:v,pulseColor:P,pulseShadowColor:_,pulseBorderRadius:D,registerUpdateFn:A,registerToggleCardFn:N}=e,B=T(e,["hidden","setHidden","hideNudgeOnClick","hideSpotlightOnOutsideClick","concealSpotlightOnReferenceHidden","autoShow","children","content","spotlight","nudge","position","offset","zIndex","onRender","onShow","onHide","onClick","onOutsideClick","createAnalyticsEvent","pulseColor","pulseShadowColor","pulseBorderRadius","registerUpdateFn","registerToggleCardFn"]);const M=Object(s.useRef)();M.current={onRender:h,onHide:y,onShow:j,onClick:O,onOutsideClick:k};const $=Object(s.useRef)(null),L=Object(s.useRef)(null),U=Object(s.useMemo)((()=>p===w.a?R(R({},B),{},{children:u
}):{}),[p,B,u]),z=!t,[H,K]=Object(s.useState)(l),[J,V]=Object(s.useState)(!1),G=Object(s.useCallback)((()=>K(!0)),[]),q=Object(s.useCallback)((()=>{var e,o;t||(r&&n(),null===(e=M.current)||void 0===e||null===(o=e.onClick)||void 0===o||o.call(e))}),[t,r,n,M]),[Y,W]=Object(s.useState)();return Object(s.useEffect)((()=>{Y&&(null==A||A((()=>Y)))}),[Y,A]),Object(s.useEffect)((()=>{K&&(null==N||N((()=>K)))}),[K,N]),Object(s.useEffect)((()=>{V(z&&H)}),[z,H]),Object(s.useEffect)((()=>{var e,n;if(!t)return null===(e=M.current)||void 0===e||null===(n=e.onRender)||void 0===n||n.call(e),()=>{var e,t;return null===(e=M.current)||void 0===e||null===(t=e.onHide)||void 0===t?void 0:t.call(e)}}),[t,M]),Object(s.useEffect)((()=>{var e,t;J&&(null===(e=M.current)||void 0===e||null===(t=e.onShow)||void 0===t||t.call(e))}),[J,M]),Object(s.useEffect)((()=>{t&&K(l)}),[t,l]),Object(s.useEffect)((()=>{let e,t;return J&&i&&(t=setTimeout((()=>{e=Object(S.bind)(window,{type:"click",listener:t=>{var n,r,o
;$.current&&L.current&&t.target instanceof Node&&!$.current.contains(t.target)&&!L.current.contains(t.target)&&(null===(n=M.current)||void 0===n||null===(r=n.onOutsideClick)||void 0===r||r.call(n),K(!1),null===(o=e)||void 0===o||o())},options:{capture:!0,passive:!0}})}))),()=>{var n;null===(n=e)||void 0===n||n(),clearTimeout(t)}}),[J,i,n,M]),a.a.createElement(s.Fragment,null,a.a.createElement(b,{ref:$,hasPulse:z,onClickCapture:q,onMouseEnter:G,pulseColor:P,pulseShadowColor:_,pulseBorderRadius:D},d),J&&a.a.createElement(x.a,{zIndex:g},a.a.createElement(E.a,{placement:f,referenceElement:$.current||void 0,offset:m},(({ref:e,style:t,forceUpdate:n,isReferenceHidden:r})=>a.a.createElement(C.b,{innerRef:e,style:R(R({},t),c&&r?{display:"none"}:{})},a.a.createElement(I,{fn:n,relay:W}),a.a.createElement(p,o()({},U,{ref:L})))))))})))},"./src/packages/classic-software/src/ui/rapidboard-app/confluence-sprint-report-retros/index.js":function(e,t,n){"use strict";n.r(t)
;var r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./node_modules/react-dom/index.js"),a=(n("./node_modules/react-magnetic-di/lib/esm/index.js"),n("./src/packages/platform/observability/browser-metrics/src/index.js")),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/index.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js"),l=n("./src/packages/growth/xflow/confluence-sprint-report-retros-button/src/index.js"),d=n("./src/packages/platform/ui/jira-context-container/src/index.js"),u=n("./src/packages/growth/cross-flow/src/services/index.js");const p=()=>{Object(a.c)().markTimeToFinishTask({key:"jira.frontend.classic-board.confluence-sprint-report_run_retro"})},b={render:(e,t)=>{document.body&&document.body.contains(e)&&Object(s.render)(o.a.createElement(d.a,null,o.a.createElement(u.a,null,o.a.createElement(l.a,t)),o.a.createElement(c.a,{metricKey:"READY_START_CONFLUENCE_SPRINT_REPORT_RETRO_MARK_KEY",onSet:p})),e)},unmount:e=>{
document.body&&document.body.contains(e)&&Object(s.unmountComponentAtNode)(e)}};t.default=()=>(Object(r.useEffect)((()=>{Object(i.a)({name:"jira-agile/rapid/ui/confluence-sprint-report-retros-button/bridge"}).then((e=>e(b)))}),[]),null)},"./src/packages/common-legacy-do-not-add-anything-new/src/components/app-style/index.js":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js");t.a=r.default.div(["font-family:",";font-size:","px;height:inherit;letter-spacing:normal;"],o.c,o.d)},"./src/packages/engagement/src/ui/coordination-client/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}))
;var r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination-client.js"),a=n("./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js");class l extends s.a{constructor(e,t,n=!1){super(e,t),this.shouldUseMockClient=void 0,this.isDebugModeEnabled=void 0,this.shouldUseMockClient=(()=>"true"===Object(i.d)("ajs-is-synthetic"))()&&!n,this.isDebugModeEnabled=(()=>Object(i.b)("ep-external-message-debug-mode",!1))()}async start(e){if(this.isDebugModeEnabled){
const t=await super.start(e),n=confirm(`\ud83d\udc1e \ud835\uddd8\ud835\udde3 \ud835\uddd8\ud835\ude05\ud835\ude01\ud835\uddf2\ud835\uddff\ud835\uddfb\ud835\uddee\ud835\uddf9 \ud835\udde0\ud835\uddf2\ud835\ude00\ud835\ude00\ud835\uddee\ud835\uddf4\ud835\uddf2 \ud835\uddd7\ud835\uddf2\ud835\uddef\ud835\ude02\ud835\uddf4\ud835\uddf4\ud835\uddf2\ud835\uddff\n\nMessage ID: ${e}\nStart call server response: ${t}\n\nDo you want to display the message?`);return n||await super.stop(e),n}return!this.shouldUseMockClient&&super.start(e)}async stop(e){return!!this.shouldUseMockClient||super.stop(e)}}class d extends r.Component{constructor(...e){super(...e),this.client=null}UNSAFE_componentWillMount(){const{cloudId:e}=Object(c.c)();this.client=new l(e,"/gateway/api",this.props.shouldAllowOnSynthetic)}render(){const{messageId:e}=this.props;return o.a.createElement(a.a,{client:this.client,messageId:e},this.props.children)}}d.displayName="CoordinationClientComponent"},
"./src/packages/growth/xflow/confluence-sprint-report-retros-button/src/index.js":function(e,t,n){"use strict"
;var r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./src/packages/platform/utils/app-base/src/index.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/app-style/index.js"),i=n("./src/packages/platform/observability/product-analytics-bridge/src/utils/analytics-context-wrapper.js"),c=n("./src/packages/platform/observability/product-analytics-bridge/src/constants.js"),l=n("./src/packages/platform/ui/error-boundary/src/index.js"),d=n("./src/packages/platform/observability/errors-handling/src/utils/reporting-error-boundary.js"),u=n("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js"),p=n("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hooks/useAnalyticsEvents.js"),b=n("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js"),f=n("./src/packages/platform/controllers/tenant-context/src/components/tenant-context/index.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js")
;const g=(e=!1,t)=>Object(m.a)().getVariantValue("jsw.classic.sprint.report.retros",{default:"not-enrolled",oneOf:["not-enrolled","control","experiment"],shouldTrackExposureEvent:e,exposureData:t}),h=e=>g(!0,e);var j=n("./src/packages/platform/utils/fetch/src/utils/as-json.js"),y=async(e,t)=>Object(j.a)(`/wiki/rest/api/content/${e.content.id}/label`,{method:"POST",body:JSON.stringify({preefix:"global",name:t})}),O=async e=>Object(j.a)(`/rest/agile/1.0/sprint/${e}`),k=async(e,t)=>{const n=await Object(j.a)(`/wiki/rest/create-dialog/1.0/blueprints/web-items?spaceKey=${e}`),[r]=n.filter((e=>e.blueprintModuleCompleteKey===t));if(!r)throw new Error("Blueprint not found");return r};const w="com.atlassian.confluence.plugins.confluence-software-blueprints:retrospectives-blueprint";var v=n("./src/packages/platform/utils/fetch/src/utils/requests.js"),F=async(e,t)=>{const n=`/gateway/api/xflow/${e}/${t}/projectspace`;try{return(await Object(j.a)(n)).spaceKey}catch(r){if(404!==r.statusCode)throw r
;return null}},x=async(e,t)=>Object(j.a)(`/rest/greenhopper/1.0/sprint/${t}/pages`,{method:"POST",body:JSON.stringify({pageId:e.content.id,pageTitle:e.content.title})});const E=async e=>{const{permitted:t}=await Object(v.d)("/gateway/api/permissions/permitted",{body:JSON.stringify({permissionId:"write",resourceId:`ari:cloud:confluence::site/${e}`})});return t};var S=n("./src/packages/common-legacy-do-not-add-anything-new/src/navigation/get-scope-data/index.js"),P=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-meta.js");const C=()=>{const e=Object(S.a)(window.location.href,P.a);if(void 0===e.projectKey)throw new Error("Failed to get projectKey from URL");return e.projectKey},_="findBlueprint",R="createDraft",D="addLabelAndLink",T="publishDraft",I=(e,t)=>async e=>{let n,r=R;try{n=await(async(e,t)=>{const[n,r]=await Promise.all([O(t),k(e,w)]),o=`${n.name} Retrospective - ${(new Date).toISOString().split("T")[0]}`
;return Object(j.a)(`/wiki/rest/create-dialog/1.0/content/blueprint/${w}/instance`,{method:"POST",body:JSON.stringify({content:{type:"page",status:"draft",space:{key:e}},contentBlueprintSpec:{context:{spaceKey:e,parentPageId:null,"retro-title":o,"retro-team-id":"","retro-team-name":"","retro-participants":""},blueprintId:r.contentBlueprintId}})})})(t,e),r=D;const[,s]=await Promise.all([y(n,`${C()}-sprint-${e}-retro`),x(n,e)]);try{r=T,await(async e=>Object(j.a)(`/wiki/rest/api/content/blueprint/instance/${e.content.id}`,{method:"PUT",body:JSON.stringify({version:{number:e.content.version.number},title:e.content.title,type:"page",status:"current",space:{key:e.content.space.key}})}))(n)}catch(o){throw(async e=>{Object(v.a)(`/rest/greenhopper/1.0/api/sprints/${e.entityId}/remotelink/${e.id}`)})(s),o}return n._links.base+n.content._links.editui}catch(s){throw n&&(async e=>{Object(v.a)(`/wiki/rest/api/content/${e.content.id}?status=${e.content.status}`)})(n),
"Blueprint not found"===s.message&&(r=_),Object(u.a)({error:s,meta:{id:"createClassicSprintReportRetroPage",packageName:"jiraConfluenceSprintReportRetrosButton",teamName:"cross-flow-growth"}}),new Error(r)}},A=(e,t)=>(async e=>{const t=`/wiki/rest/api/search?cql=${encodeURIComponent(e)}`,n=await Object(j.a)(t);return 0===n.results.length?null:`${n._links.base}${n.results[0].url}`})(`label="${`${e}-sprint-${t}-retro`.toLowerCase()}"`),N=e=>{const{createAnalyticsEvent:t}=Object(p.a)(),[n,o]=Object(r.useState)(null),{licensedProducts:s}=Object(f.c)(),a=!!s.confluence,[i,c]=Object(r.useState)(a);return Object(r.useEffect)((()=>{a&&(async()=>{c(!0);const n=await A(C(),e);Object(b.b)(t({}),"sprintRetrosLinkedPageFetch succeeded",{pageExists:Boolean(n)}),o(n),c(!1)})().catch((()=>{Object(b.b)(t({}),"sprintRetrosLinkedPageFetch failed"),o(null),c(!1)}))}),[t,a,e]),{isFetchingLinkedRetro:i,linkedRetroUrl:n}}
;var B=n("./node_modules/react-intl/lib/index.es.js"),M=n("./node_modules/@atlassiansox/cross-flow-support/dist/es2019/index.js"),$=n("./node_modules/@atlassiansox/origin-tracing/dist/es2019/origin-tracer.js"),L=n("./node_modules/@atlaskit/button--next/dist/es2019/loading-button.js"),U=n("./src/packages/platform/ui/flags/src/ui/with-flag-service/index.js"),z=n("./src/packages/platform/observability/product-analytics-bridge/src/utils/analytics-event-to-props.js");var H=Object(B.h)({runRetro:{id:"confluence-sprint-report-retros-button.retro-button.run-retro",defaultMessage:"Run retro"},viewRetro:{id:"confluence-sprint-report-retros-button.retro-button.view-retro",defaultMessage:"View retro"},errorTitle:{id:"confluence-sprint-report-retros-button.retro-button.error-title",defaultMessage:"Something's gone wrong"},errorDescription:{id:"confluence-sprint-report-retros-button.retro-button.error-description",
defaultMessage:"Our team has been notified. If the problem persists, please contact Atlassian Support."},errorAction:{id:"confluence-sprint-report-retros-button.retro-button.error-action",defaultMessage:"Reload page"}}),K=n("./node_modules/@atlassiansox/engagekit/dist/esm/coordination/useCoordination.js"),J=n("./node_modules/@atlassiansox/nudge-tooltip/dist/es2019/index.js"),V=n("./src/packages/engagement/src/ui/coordination-client/index.js");var G=Object(B.h)({content:{id:"confluence-sprint-report-retros-button.retro-button.spotlight.content",defaultMessage:"Run a team retrospective in Confluence to discuss your sprint and identify ways to improve."},learnMore:{id:"confluence-sprint-report-retros-button.retro-button.spotlight.learn-more",defaultMessage:"Learn more"}}),q=n("./node_modules/styled-components/dist/styled-components.browser.esm.js");const Y=q.default.span(["color:white;"]),W=({intl:{formatMessage:e},isPostExpand:t,children:n})=>{
const{cloudId:s}=Object(f.c)(),a=Object(r.useMemo)((()=>new V.a(s,"/gateway/api")),[s]),[i,c]=Object(K.a)(a,"end-of-sprint-retros-spotlight"),[l,d]=Object(r.useState)(!1);Object(r.useEffect)((()=>{i&&d(!0)}),[i]),Object(r.useEffect)((()=>()=>{l&&c()}),[l,c]);const u=()=>{d(!1)};return o.a.createElement(J.a,{width:275,content:e(G.content),actions:t?[{text:o.a.createElement(Y,null,e(G.learnMore)),appearance:"subtle",href:"https://www.atlassian.com/software/confluence/templates/retrospective",target:"_blank",onClick:(e,t)=>{Object(b.h)(t,"sprintReportRetroNudgeLearnMore")}}]:void 0,position:"left",autoShow:!0,hideSpotlightOnOutsideClick:!0,hidden:!l,onOutsideClick:u,onClick:u},n)};W.displayName="RetrosButtonSpotlight";var Q=Object(B.i)(W);const X=q.default.div(["margin:3px 10px 3px 0px;"]);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),
n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const te=Object(z.a)("button",{onClick:"clicked"})(L.a),ne=({intl:{formatMessage:e},sprintId:t,flagService:{showFlag:n},isPostExpand:s,createRetroPage:a})=>{const i=Object(M.c)(),{createAnalyticsEvent:c}=Object(p.a)(),{linkedRetroUrl:l,isFetchingLinkedRetro:d}=N(t),[f,m]=Object(r.useState)(!1),g=new $.a({product:"jira"});Object(r.useEffect)((()=>{const e=c({});Object(b.d)(e)}),[c]),Object(r.useEffect)((()=>{s||i.isEnabled||Object(u.a)({error:new Error(i.reason),meta:{id:"crossFlow",packageName:"jiraConfluenceSprintReportRetrosButton"}})}),[i,s]);const h=(e,r)=>{const o=g.toAnalyticsAttributes({hasGeneratedId:!0}),d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isPostExpand:s,hasLinkedPage:Boolean(l)},o);if(Object(b.h)(r,"sprintReportRetroButton",d),s)if(null!==l)window.open(g.addToUrl(l),"_blank");else{(async()=>{try{if(!a)throw new Error("fetchLinkedSpace");m(!0);const e=await a(t);Object(b.b)(c({}),"sprintReportCreateRetroPage succeeded"),window.location.href=g.addToUrl(e)}catch(e){Object(b.b)(c({}),"sprintReportCreateRetroPage failed",{failedStep:e.message}),n({type:"error",title:H.errorTitle,description:H.errorDescription,actions:[{content:H.errorAction,onClick:()=>{window.location.reload()}}]}),m(!1)}})()}else i.isEnabled&&i.api.open({journey:M.a.DECIDE,targetProduct:M.b.CONFLUENCE,sourceComponent:"end-of-sprint-retros",sourceContext:"jira",experimentalOptions:{jiraProjectKey:C(),jiraSprintId:t,
isInJswToConfluenceRetrosExperiment:!0}})};return d?o.a.createElement(X,null,o.a.createElement(L.a,{isLoading:!0},e(H.runRetro))):o.a.createElement(X,null,null!==l?o.a.createElement(te,{isLoading:f,onClick:h},e(H.viewRetro)):o.a.createElement(Q,{isPostExpand:s},o.a.createElement(te,{isLoading:f,onClick:h},e(H.runRetro))))};ne.displayName="RetroButton";var re=Object(U.a)(Object(B.i)(ne));function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ae=e=>{const t=(()=>{
const{createAnalyticsEvent:e}=Object(p.a)(),{isSiteAdmin:t,licensedProducts:n,cloudId:o}=Object(f.c)(),[s,a]=Object(r.useState)({isEligibleAndInExperiment:!1,isPostExpand:!1,createRetroPage:null});return Object(r.useEffect)((()=>{(async()=>{const r=g();if("not-enrolled"===r)return void h();const s=!!n.confluence;let i=null,c=!1;const l=C();if(s)try{const[t,n]=await Promise.all([F(o,l),E(o)]);i=t,c=n,Object(b.b)(e({}),"sprintRetrosConfluenceDetailsFetch succeeded")}catch(f){return void Object(b.b)(e({}),"sprintRetrosConfluenceDetailsFetch failed")}const d=!s&&Boolean(t),u=c&&Boolean(i);if(!d&&!u){let t;return t=s?c?"noLinkedSpace":"noAccess":"permission",void Object(b.f)(e({}),"notEligibleForSprintRetrosExperiment registered",{reason:t})}const p=null!==i?I(0,i):null;h({hasConfluence:s,hasLinkedSpace:!!i,isSiteAdmin:t}),"experiment"===r&&a({isEligibleAndInExperiment:!0,isPostExpand:s,createRetroPage:p})})()}),[o,e,t,n.confluence]),s
})(),{isEligibleAndInExperiment:n}=t,s=se(t,["isEligibleAndInExperiment"]);return n&&o.a.createElement(l.b,null,o.a.createElement(d.a,{teamName:"cross-flow-growth",id:"confluenceSprintReportRetrosButton",packageName:"jiraConfluenceSprintReportRetrosButton"},o.a.createElement(re,oe({sprintId:e.sprintId},s))))};const ie=e=>o.a.createElement(s.a,null,o.a.createElement(a.a,null,o.a.createElement(i.a,{sourceType:c.f,sourceName:"sprintReportRetroButton"},o.a.createElement(ae,e))));ie.displayName="ConfluenceSprintReportRetrosButtonEntry";t.a=ie},"./src/packages/platform/observability/product-analytics-bridge/src/utils/analytics-event-to-props.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hocs/withAnalyticsEvents.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}
function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=(e,t)=>n=>Object(r.a)(((e,t)=>Object.keys(e).reduce(((n,r)=>s(s({},n),{},{[r]:{action:e[r],actionSubject:t}})),{}))(t,e))(n)},"./src/packages/platform/ui/flags/src/ui/with-flag-service/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./src/packages/platform/ui/flags/src/services/index.js");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e
}).apply(this,arguments)}t.a=e=>t=>o.a.createElement(e,a({},t,{flagService:s.b}))}}]);try{window.__jsEvalStop("async-confluence-sprint-report-retros-button-bridge-defer.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-confluence-sprint-report-retros-button-bridge-defer.c806eff9e00a0612b278.8.js.map