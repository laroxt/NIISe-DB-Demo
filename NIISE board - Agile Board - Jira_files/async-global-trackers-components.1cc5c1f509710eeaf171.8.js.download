try{window.performance.mark("async-global-trackers-components.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-global-trackers-components"],{"./src/packages/common-legacy-do-not-add-anything-new/src/util/has-jsw-jsd.js":function(e,t,a){"use strict";var s=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js");t.a=()=>{const e=Object(s.h)(),{JIRA_SOFTWARE:t,JIRA_SERVICEDESK:a}=s.a;return e[t]&&e[a]}},"./src/packages/common-legacy-do-not-add-anything-new/src/util/is-jsw-jsd-bundle.js":function(e,t,a){"use strict";var s=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js");t.a=()=>{const{JIRA_SOFTWARE:e,JIRA_SERVICEDESK:t}=s.a,a=Object(s.g)();return void 0!==a&&a.startsWith(`${e}.ondemand,${t}.ondemand`)}},"./src/packages/platform/observability/spa-transition-resources-tracker/src/feature-flags.js":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),
a.d(t,"a",(function(){return n}));var s=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");const r=()=>Object(s.b)("issue.details.forge-ui-synthetic-check",!1),n=()=>Object(s.b)("jfp.perf.loading-phases.resources-metrics",!1)},"./src/packages/platform/observability/spa-transition-resources-tracker/src/index.js":function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var s=a("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hocs/withAnalyticsEvents.js"),r=a("./node_modules/react/index.js"),n=a.n(r),c=(a("./node_modules/react-magnetic-di/lib/esm/index.js"),
a("./node_modules/react-resource-router/build/esm/index.js")),i=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),o=a("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js"),l=a("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js"),u=a("./src/packages/platform/controllers/spa-state/src/components/transition-state/index.js"),d=a("./src/packages/platform/controllers/spa-state/src/common/index.js"),p=a("./src/packages/platform/observability/spa-transition-resources-tracker/src/feature-flags.js"),g=a("./src/packages/platform/observability/spa-transition-resources-tracker/src/utils/prefetch-timing/index.js");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function j(e){for(var t=1;t<arguments.length;t++){
var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const y={type:null,duration:null,end:null,isCacheHit:null,start:0},f=({resource:e,route:t,createAnalyticsEvent:a,setResourceMetrics:s,currentMatch:n,isInitialRender:u})=>{const[d,m]=Object(r.useState)(y),[b,f]=Object(r.useState)(!1),h=Object(c.p)(e);return Object(r.useEffect)((()=>()=>{m(j({},y)),f(!1)}),[t]),Object(r.useEffect)((()=>{if(null===h.expiresAt||b)return;const t=Date.now();null===d.isCacheHit&&((e,t)=>{var a;return!e.loading&&(null!==(a=e.expiresAt)&&void 0!==a?a:0)>t})(h,t)?m((a=>j(j({},a),{},{duration:0,end:t,isCacheHit:!0,start:t,type:e.type
}))):h.loading&&0===d.start?m((a=>j(j({},a),{},{type:e.type,isCacheHit:!1,start:t}))):h.loading||d.start===y.start||d.end!==y.end||m((e=>j(j({},e),{},{duration:t-e.start,end:t})))}),[b,t,d,e,h]),Object(r.useEffect)((()=>{if(b||!(({duration:e,end:t,isCacheHit:a,start:s})=>a!==y.isCacheHit&&e!==y.duration&&s!==y.start&&t!==y.end)(d))return;const{isCacheHit:r,duration:c,start:m,end:k,type:O}=d,{error:v}=h,E=v?"fetchFailed":"fetchSucceeded",w=a({action:E}),x=v&&v instanceof Error?v.toString():v,C=t.name?t.name:"empty";Object(l.b)(w,`${E} resource`,e.type,j({duration:c,isCacheHit:r,start:m,end:k,routeName:C,prefetchStartTime:Object(g.a)(n),isInitialRender:u},null!=x?{error:x}:{})),v&&(Object(o.a)({meta:{id:`spaTransitionResources.${(O||"").toLowerCase()}`,packageName:"jiraSpaTransitionResourcesTracker",teamName:"delorean-spa"},attributes:{isSynthetic:Object(p.b)()},error:v}),i.h.safeErrorWithoutCustomerData(`resources.${(O||"").toLowerCase()}`,x||"",v)),s({end:k,isCacheHit:r,start:m,type:O
}),f(!0)}),[a,t,b,d,s,h,e,n,u]),null},h=({createAnalyticsEvent:e,setResourceMetrics:t})=>{const[{route:a,match:s}]=Object(c.q)(),[{isInitialRender:i}]=Object(u.b)();return Object(r.useMemo)((()=>(a&&a.resources||[]).map((r=>n.a.createElement(f,{key:r.type,resource:r,route:a,currentMatch:s,createAnalyticsEvent:e,setResourceMetrics:t,isInitialRender:i})))),[a,s,e,t,i])},k=({createAnalyticsEvent:e})=>n.a.createElement(d.a,null,((t,{setResourceMetrics:a})=>n.a.createElement(h,{setResourceMetrics:a,createAnalyticsEvent:e})));k.displayName="SpaResourceMetricsControllerWithActions";const O=Object(s.a)()(k)},"./src/packages/platform/observability/spa-transition-resources-tracker/src/utils/prefetch-timing/index.js":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var s=a("./src/packages/platform/observability/spa-transition-resources-tracker/src/feature-flags.js");const r=new Map,n=e=>{if(!Object(s.a)())return;const t=JSON.stringify(e)
;r.has(t)||r.set(t,{startPrefetchTime:Date.now()})},c=e=>{if(!Object(s.a)())return null;const t=JSON.stringify(e),{startPrefetchTime:a}=r.get(t)||{startPrefetchTime:null};return r.delete(t),a}},"./src/packages/platform/ui/layouts/jira-shared-layout/src/ui/trackers/index.js":function(e,t,a){"use strict";a.r(t),a.d(t,"Trackers",(function(){return w}));var s=a("./node_modules/react/index.js"),r=a.n(s),n=a("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hocs/withAnalyticsEvents.js"),c=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js"),i=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js"),o=a("./src/packages/platform/ui/error-boundary/src/main.js"),l=a("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hooks/useAnalyticsEvents.js"),u=a("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js");const d=Object(n.a)()((()=>{
const{createAnalyticsEvent:e}=Object(l.a)(),t=Object(i.c)().isDevopsProjectCreationScenario;return Object(s.useEffect)((()=>{(()=>Object(c.b)("devops.jfe.project.create",!1))()&&t&&Object(u.b)(e({}),"devopsSite visited")}),[e,t]),null})),p=()=>r.a.createElement(o.a,{id:"devopsFireTargetingEvents",packageName:"jiraSpaAppsDevopsFireTargetingEvents"},r.a.createElement(d,null));p.displayName="SafeWithAnalyticsFireDevopsTargetingEvents";var g=p,m=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/has-jsw-jsd.js"),j=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/is-jsw-jsd-bundle.js"),b=a("./src/packages/common-legacy-do-not-add-anything-new/src/util/with-injected-props.js");class y extends s.Component{componentDidMount(){const{onJswConfluenceBundleCheck:e,onJswJsdBundleCheck:t,createAnalyticsEvent:a,onGetFirstActivationDate:s}=this.props,r=e(),n=t(),c=s(),i=Date.now(),o=null!==c?i-c:null
;null!==o&&o>0&&o<6048e5&&(r&&Object(u.b)(a({}),"appswitcherSpotlight targeting"),n&&Object(u.b)(a({}),"appswitcherjsdspotlight targeting"))}render(){return null}}y.displayName="FireEngagementTargetingEvents",y.displayName="FireEngagementTargetingEvents";var f=Object(n.a)()(y),h=Object(b.a)(f,{onJswJsdBundleCheck:()=>Object(m.a)()&&Object(j.a)(),onJswConfluenceBundleCheck:()=>(()=>{const e=Object(i.h)(),{JIRA_SOFTWARE:t,CONFLUENCE:a}=i.a;return e[t]&&e[a]})()&&(()=>{const{JIRA_SOFTWARE:e,CONFLUENCE:t}=i.a,a=Object(i.g)();return void 0!==a&&a.startsWith(`${e}.ondemand,${t}.ondemand`)})(),onGetFirstActivationDate:()=>Object(i.f)()}),k=a("./node_modules/react-loosely-lazy/lib/esm/index.js");const O=Object(k.e)((()=>a.e("async-legacy-issue-create-trackers").then(a.bind(null,"./src/packages/issue-create/legacy-issue-create-trackers/src/index.js"))),{ssr:!1,moduleId:"./src/packages/issue-create/legacy-issue-create-trackers/src/index.js"});var v=()=>r.a.createElement(o.a,{
id:"async.jira.legacy-issue-create.trackers",packageName:"jiraLegacyIssueCreateTrackers"},r.a.createElement(k.a,{fallback:r.a.createElement(r.a.Fragment,null)},r.a.createElement(O,null))),E=a("./src/packages/platform/observability/spa-transition-resources-tracker/src/index.js");const w=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement(h,null),r.a.createElement(g,null),r.a.createElement(v,null));t.default=w}}]);try{window.__jsEvalStop("async-global-trackers-components.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-global-trackers-components.d813f0030acd631f091b.8.js.map