try{window.performance.mark("async-atlassian-navigation-search.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-atlassian-navigation-search"],{"./node_modules/@atlaskit/util-service-support/dist/es2019/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return b}));var n={};r.r(n),r.d(n,"requestService",(function(){return y}));var o=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=r.n(o);class i{constructor(){s()(this,"listeners",new Set)}subscribe(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}unsubscribe(e){this.listeners.delete(e)}notifyResult(e){this.listeners.forEach((t=>{t.result(e)}))}notifyError(e){this.listeners.forEach((t=>{t.error&&t.error(e)}))}notifyInfo(e){this.listeners.forEach((t=>{t.info&&t.info(e)}))}notifyNotReady(){this.listeners.forEach((e=>{e.notReady&&e.notReady()}))}}
var a=r("./node_modules/url/url.js"),c=r("./node_modules/@atlaskit/util-service-support/node_modules/url-search-params/build/url-search-params.node.js"),l=r.n(c);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=l.a.default||l.a,h={},m=(e,t)=>{if(t)for(const r in t)if({}.hasOwnProperty.call(t,r)){const n=t[r]
;if(Array.isArray(n))for(let t=0;t<n.length;t++)e[r]=n[t];else e[r]=n}},y=(e,t)=>{const{url:r,securityProvider:n,refreshedSecurityProvider:o}=e,{path:s,queryParams:i,requestInit:c}=t||h,l=n&&n(),u=((e,t="",r,n)=>{const o=new f(a.parse(e).search||void 0);if(e=e.split("?")[0],r)for(const a in r)({}).hasOwnProperty.call(r,a)&&o.append(a,r[a]);if(n&&n.params)for(const a in n.params)if({}.hasOwnProperty.call(n.params,a)){const e=n.params[a];if(Array.isArray(e))for(let t=0;t<e.length;t++)o.append(a,e[t]);else o.append(a,e)}let s="";t&&"/"!==e.substr(-1)&&!t.startsWith("/")&&(s="/");let i=o.toString();return i&&(i="?"+i),`${e}${s}${t}${i}`})(r,s,i,l),d=((e,t)=>{const r={};return m(r,t),e&&m(r,e.headers),r})(l,c&&c.headers),b=(e=>e&&e.omitCredentials?"omit":"include")(l),g=(null==t?void 0:t.ignoreResponsePayload)||!1,j=p(p({},c),{},{headers:d,credentials:b});return fetch(u,j).then((e=>204===e.status?Promise.resolve():e.ok?g?Promise.resolve():e.json():401===e.status&&o?o().then((e=>y({url:r,
securityProvider:()=>e},t))):Promise.reject({code:e.status,reason:e.statusText})))},b=n},"./node_modules/@atlaskit/util-service-support/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,r){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function r(e){var t,r,o,s,i,a,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),i=0,a=(s=e.split("&")).length;i<a;i++)-1<(t=(o=s[i]).indexOf("="))?u(c,p(o.slice(0,t)),p(o.slice(t+1))):o.length&&u(c,p(o),"");else if(n(e))for(i=0,a=e.length;i<a;i++)u(c,(o=e[i])[0],o[1]);else for(r in e)u(c,r,e[r])}var n=Array.isArray,o=r.prototype,s=/[!'\(\)~]|%20|%00/g,i=/\+/g,a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return a[e]},l="__URLSearchParams__:"+Math.random();function u(e,t,r){t in e?e[t].push(""+r):e[t]=n(r)?r:[""+r]}function p(e){return decodeURIComponent(e.replace(i," "))}function d(e){return encodeURIComponent(e).replace(s,c)}o.append=function(e,t){u(this[l],e,t)},o.delete=function(e){delete this[l][e]},o.get=function(e){var t=this[l];return e in t?t[e][0]:null},o.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},o.has=function(e){return e in this[l]},o.set=function(e,t){
this[l][e]=[""+t]},o.forEach=function(e,t){var r=this[l];Object.getOwnPropertyNames(r).forEach((function(n){r[n].forEach((function(r){e.call(t,r,n,this)}),this)}),this)},o.toJSON=function(){return{}},o.toString=function(){var e,t,r,n,o=this[l],s=[];for(t in o)for(r=d(t),e=0,n=o[t];e<n.length;e++)s.push(r+"="+d(n[e]));return s.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var r=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(n){n.length&&!(n in r)&&(r[n]=this.getAll(n)).forEach((function(r){e.call(t,r,n,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,r){e.push(r)}));var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var r={next:function(){var t=e.shift()
;return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,r){e.push([r,t])}));var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,r,n=this.entries(),o=n.next(),s=o.done,i=[],a=Object.create(null);!s;)t=(r=o.value)[0],i.push(t),t in a||(a[t]=[]),a[t].push(r[1]),s=(o=n.next()).done;for(i.sort(),e=0;e<i.length;e++)this.delete(i[e]);for(e=0;e<i.length;e++)t=i[e],this.append(t,a[t].shift())})}((r=e.exports=t.URLSearchParams||r).prototype)}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/base-search-client.js":function(t,r,n){"use strict";n.d(r,"a",(function(){return b}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(o),i=n("./node_modules/@atlaskit/util-service-support/dist/es2019/index.js"),a=n("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/timing.js"),c=n("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js"),l=n("./node_modules/lodash/debounce.js"),u=n.n(l);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=(e,t,r,n=100)=>{const o={},s=u()((()=>{const n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o),s=Object.keys(n),i=s.map((e=>n[e].arg));t(e(i)).then((e=>{s.forEach((t=>{n[t].resolve(r(e,t))}))})).catch((()=>{s.forEach((e=>{n[e].reject()}))})).finally((()=>s.forEach((e=>delete o[e]))))}),n);return(e,t)=>{const r=new Promise(((r,n)=>{o[e]={resolve:r,reject:n,arg:t}}));return s(),r}};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b{constructor({url:t,cloudId:r,siteMasterList:n}){s()(this,"getGenericProductPermissions",(async t=>{const{productIds:r,experience:n}=t;if(0===r.length)return Promise.resolve(new Map);try{const e=await this.makeRequest(b.SCOPES_API_URL,{cloudId:this.cloudId,productIds:r,experience:n});return new Map(Object.keys(e.products).map((t=>[t,e.products[t]])))}catch(e){return Promise.resolve(new Map)}})),s()(this,"batchedGetExtensibleProductPermission",f((e=>{const t={productIds:[],experience:""};return 0===e.length?t:e.reduce(((e,t)=>({productIds:[...e.productIds,...t.productIds],experience:t.experience})),t)
}),this.getGenericProductPermissions,((e,t)=>e.get(t)||[]))),this.serviceConfig={url:t},this.cloudId=r,this.siteMasterList=n}async getAbTestData(e,t){const r={cloudId:this.cloudId,scopes:[e],experience:t},n=(await this.makeRequest(b.EXPERIMENT_URL_PATH,r)).scopes.find((t=>t.id===e));return n?Promise.resolve(n.abTest):Promise.resolve(null)}async getProductPermissions(t,r){if(0===t.length)return Promise.resolve(t);try{const e=await this.makeRequest(b.SCOPES_API_URL,{cloudId:this.cloudId,productIds:t.map((e=>e.toLowerCase())),experience:r}),n=Object.keys(e.products);return Promise.resolve(n.filter((t=>e.products[t].length>0)).map((e=>e.toUpperCase())))}catch(e){return Promise.resolve([])}}async search({query:e,context:t,scopes:r,modelParams:n,resultLimit:o,filters:s=[],experience:i,sites:l=[]}){const u=this.cloudId,p=l.length>0?l:Object(c.d)(this.siteMasterList).map((e=>e.cloudId)),d=m(m({query:e,cloudId:u,limit:o,scopes:r,filters:s,searchSession:t},n.length>0?{modelParams:n}:{}),{},{
experience:i,cloudIds:p}),{result:f,durationMs:h}=await Object(a.a)(this.makeRequest(b.QUICKSEARCH_API_URL,d));return{response:{rawData:f,retrieveScope:e=>f.scopes.find((t=>t.id===e))||null},requestDurationMs:h}}async makeRequest(e,t){const r={path:e,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}};return await i.b.requestService(this.serviceConfig,r)}}s()(b,"EXPERIMENT_URL_PATH","experiment/v1"),s()(b,"QUICKSEARCH_API_URL","quicksearch/v1"),s()(b,"SCOPES_API_URL","scopes/v1")},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/collaboration-graph-client/collaboration-graph-client.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return v}))
;var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n),s=r("./node_modules/@atlaskit/util-service-support/dist/es2019/index.js"),i=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/simple-cache.js"),a=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/timing.js");class c{async makeRequest(e,t){const r={path:e,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}};return Object(a.a)(s.b.requestService(this.serviceConfig,r))}constructor({url:e}){this.serviceConfig={url:e},this.getContainersSupplier=this.getContainersSupplier.bind(this),this.getUsersSupplier=this.getUsersSupplier.bind(this),this.containersCache=new i.a(this.getContainersSupplier),this.usersCache=new i.a(this.getUsersSupplier)}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends c{constructor({collaborationGraphUrl:e}){super({url:e}),o()(this,"CONTAINER_URL_PATH","v1/collaborationgraph/user/container"),o()(this,"USER_URL_PATH","v1/collaborationgraph/user/user")}getUsers(e){return this.usersCache.get(e).value}getContainers({containerTypes:e,cloudId:t}){return this.containersCache.get({containerTypes:e,cloudId:t}).value}async getContainersSupplier({containerTypes:e,cloudId:t}){const r={
containerTypes:e,context:{principalId:"context",siteId:t,contextType:"quickSearch"},maxNumberOfResults:10,userId:"context",expanded:!0},{result:n,durationMs:o}=await this.makeRequest(this.CONTAINER_URL_PATH,r);return n.collaborationGraphEntities=n.collaborationGraphEntities.map((e=>u(u({},e),{},{siteId:t}))),u(u({},n),{},{timings:o})}async getUsersSupplier({cloudId:e=""}){const t={context:{principalId:"context",siteId:e,contextType:"quickSearch"},maxNumberOfResults:10,userId:"context",expanded:!0},{result:r,durationMs:n}=await this.makeRequest(this.USER_URL_PATH,t);return r.collaborationGraphEntities=r.collaborationGraphEntities.map((t=>u(u({},t),{},{siteId:e}))),u(u({},r),{},{timings:n})}}var f=r("./node_modules/lodash/uniqBy.js"),h=r.n(f),m=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const j=(e,t)=>({timings:Math.max(e.timings,t.timings),collaborationGraphEntities:h()(e.collaborationGraphEntities.concat(t.collaborationGraphEntities),(e=>e.id))}),P={timings:0,collaborationGraphEntities:[]};class O extends c{async getContainersSupplier(e){const t={containerTypes:e.containerTypes,context:{principalId:"context",siteIds:e.cloudIds,contextType:"quickSearch"},maxNumberOfResults:10,userId:"context",expanded:!0
},{result:r,durationMs:n}=await this.makeRequest(this.CONTAINER_URL_PATH,t);return r.collaborationGraphEntities=r.collaborationGraphEntities.map((t=>b(b({},t),{},{siteId:Object(m.a)(t.containerDetails.url,e.allSites)}))),b(b({},r),{},{timings:n})}async getUsersSupplier(e){const t=e.cloudIds.map((async e=>{const t={context:{principalId:"context",siteId:e,contextType:"quickSearch"},maxNumberOfResults:10,userId:"context",expanded:!0},{result:r,durationMs:n}=await this.makeRequest(this.USER_URL_PATH,t);return r.collaborationGraphEntities=r.collaborationGraphEntities.map((t=>b(b({},t),{},{siteId:e}))),b(b({},r),{},{timings:n})}));return Promise.all(t).then((e=>e.reduce(j,P)))}getUsers({allSites:e,selectedSites:t}){return 0===t.length?this.usersCache.get({cloudIds:Object(m.d)(e).map((e=>e.cloudId))}).value:this.getUsersSupplier({cloudIds:t.map((e=>e.cloudId))})}getContainers({allSites:e,selectedSites:t,containerTypes:r}){return 0===t.length?this.containersCache.get({
cloudIds:Object(m.d)(e).map((e=>e.cloudId)),containerTypes:r}).value:this.getContainersSupplier({cloudIds:t.map((e=>e.cloudId)),containerTypes:r,allSites:e})}constructor(e){super({url:e.collaborationGraphUrl}),o()(this,"CONTAINER_URL_PATH","v1/collaborationgraph/multitenant/user/container"),o()(this,"USER_URL_PATH","v1/collaborationgraph/user/user")}}class v{constructor(e){o()(this,"getContainers",((e,t=[])=>this.isMultiSite?this.collabGraphMultiSite.getContainers({selectedSites:t,containerTypes:e,allSites:this.sites.length>0?this.sites:[{cloudId:this.cloudId}]}):this.collabGraphSingleSite.getContainers({containerTypes:e,cloudId:this.cloudId}))),o()(this,"getUsers",((e=[])=>this.isMultiSite?this.collabGraphMultiSite.getUsers({allSites:this.sites.length>0?this.sites:[{cloudId:this.cloudId}],selectedSites:e}):this.collabGraphSingleSite.getUsers({cloudId:this.cloudId}))),this.collabGraphSingleSite=new d(e),this.collabGraphMultiSite=new O(e),this.isMultiSite=e.isMultiSite,
this.cloudId=e.cloudId,this.sites=e.sites}}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/error-handler.js":function(e,t,r){"use strict";function n(e){let t="undefined";const r=e.message?e.message:e;if(r&&(t=String(r),"object"==typeof r))try{t=JSON.stringify(e)}catch{}return new Error(t)}r.d(t,"a",(function(){return n}))},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return a}));const n=({siteUrl:e,sites:t})=>e||(t&&t.length>0?t[0].siteUrl:""),o=(e,t)=>{const r=t.find((t=>t.cloudId===e));return r?r.siteUrl:""},s=(e,t=[])=>{const r=e.match(/^(http(s)?:\/\/[^\/]+)/);if(!r)return"";const n=r[0],o=t.find((e=>e.siteUrl===n));return o?o.cloudId:""
},i=(e,t="",r,n="")=>e&&t?t:n?`/${n}/people/${r}`:`/people/${r}`,a=(e=[])=>e.slice(0,3)},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/timing.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=async e=>{const t=Date.now();return{result:await e,durationMs:Date.now()-t}}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/product-context/product-context.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return a})),r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return u}));var n=r("./node_modules/react/index.js"),o=r.n(n);let s;!function(e){e.jira="JIRA",e.confluence="CONFLUENCE",e.other="OTHER"}(s||(s={}));const i=o.a.createContext({products:[],activeIndex:0,primaryProduct:""}),a=({children:e,products:t,activeIndex:r=0,primaryProduct:n=""})=>o.a.createElement(i.Provider,{value:{products:t,activeIndex:Math.min(t.length-1,Math.max(0,r)),
primaryProduct:n}},e),c=()=>Object(n.useContext)(i).products,l=()=>{const{products:e,primaryProduct:t}=Object(n.useContext)(i);return t||e[0]},u=()=>{const e=Object(n.useContext)(i);return e.products[e.activeIndex]}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/confluence/clients/confluence-search-client.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return g}))
;var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n),s=r("./node_modules/lodash/uniqBy.js"),i=r.n(s),a=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/error-handler.js"),c=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/base-search-client.js"),l=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/confluence/clients/response-types.js"),u=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/cancellable-promise.js"),p=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/simple-cache.js"),d=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){
var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const y="confluence.nav-v3",b=Promise.resolve({items:[],timings:0});class g{constructor(e,t){o()(this,"abTestDataCache",null),o()(this,"permissionsDataCache",null),o()(this,"searchWithFilters",((e,t,r,n,o)=>{const s=[l.d.ConfluencePageBlogAttachment],i=[];let a=null,c=null;t.forEach((e=>{switch(e.type){case"space":a||(a={"@type":"spaces",spaceKeys:[]},i.push(a)),a.spaceKeys.push(e.id);break;case"contributor":c||(c={"@type":"contributors",accountIds:[]},i.push(c)),c.accountIds.push(e.id)}}));const p=this.aggregatorClient.search({query:e,context:r,scopes:s,modelParams:n,
resultLimit:g.ITEM_RESULT_LIMIT,filters:i,experience:y,sites:o.length>0?o.map((e=>e.cloudId)):void 0});return{[l.d.ConfluencePageBlogAttachment]:u.a.from(p.then((({response:e,requestDurationMs:t})=>this.mapConfItem(e.retrieveScope(l.d.ConfluencePageBlogAttachment),t)))),[l.d.ConfluenceSpace]:u.a.from(b),[l.d.People]:u.a.from(b)}})),o()(this,"recentPeopleSupplier",((e,t)=>this.isUserAnonymous?Promise.resolve({items:[],timings:0}):this.isCollabGraphEnabled?this.collaborationGraphClient.getUsers().then((e=>this.mapCollabGraphPeople(e))):this.aggregatorClient.search({query:"",context:e,scopes:[l.d.UserConfluence],modelParams:[],resultLimit:g.PEOPLE_RESULT_LIMIT,experience:y,sites:null==t?void 0:t.map((e=>e.cloudId))}).then((({response:e,requestDurationMs:r})=>this.mapUrsPeople(e.retrieveScope(l.d.UserConfluence),r,t.length>0))))),o()(this,"mapUrsPeople",((e,t,r)=>{if(!e)throw new Error(`Expected a response but did not get any for scope: ${l.d.UserConfluence}`)
;if(e.error)throw Object(a.a)(e.error);const n=e.results.map((e=>({resultType:"person-result",resultId:`people-${e.id}`,userId:e.id,name:e.name,href:Object(d.c)(r,e.absoluteUrl,e.id),avatarUrl:e.avatarUrl,contentType:"person",analyticsType:"result-person",mentionName:e.nickname||"",presenceMessage:""})));return{items:i()(n,(e=>e.resultId)),timings:t}})),o()(this,"mapCollabGraphPeople",(e=>({items:e.collaborationGraphEntities.map((e=>({resultId:e.userProfile.account_id,userId:e.userProfile.account_id,name:e.userProfile.name,href:`${Object(d.e)(e.siteId,this.siteMasterList)}/people/${e.userProfile.account_id}`,analyticsType:"recent-person",mentionName:e.userProfile.name,presenceMessage:e.userProfile.name,resultType:"person-result",avatarUrl:e.userProfile.picture,contentType:"person"}))),timings:e.timings})));const{siteMasterList:r}=e;this.aggregatorClient=new c.a(e),this.isUserAnonymous=e.isUserAnonymous,this.bootstrapPeopleCache=new p.a(this.recentPeopleSupplier),this.siteMasterList=r,
this.collaborationGraphClient=t,this.isCollabGraphEnabled=e.isCollaborationGraphEnabled}search(e,t,r,n,o){const s=[{"@type":"queryParams",queryVersion:n}];if(t.length>0)return this.searchWithFilters(e,t,r,s,o);const i=[l.d.ConfluencePageBlogAttachment,l.d.ConfluenceSpace,l.d.People],a=this.aggregatorClient.search({query:e,context:r,scopes:i,modelParams:s,resultLimit:g.ITEM_RESULT_LIMIT,filters:[],experience:y,sites:o.length>0?o.map((e=>e.cloudId)):void 0});return{[l.d.ConfluencePageBlogAttachment]:u.a.from(a.then((({response:e,requestDurationMs:t})=>this.mapConfItem(e.retrieveScope(l.d.ConfluencePageBlogAttachment),t)))),[l.d.ConfluenceSpace]:u.a.from(a.then((({response:e,requestDurationMs:t})=>this.mapConfSpace(e.retrieveScope(l.d.ConfluenceSpace),t)))),[l.d.People]:u.a.from(a.then((({response:e,requestDurationMs:t})=>this.mapCpusPeople(e.retrieveScope(l.d.People),t,o.length>0))))}}searchSpaces(e,t,r){const n=[l.d.ConfluenceSpace],o=this.aggregatorClient.search({query:e,context:t,
scopes:n,modelParams:[],resultLimit:g.SPACE_RESULT_LIMIT,filters:[],experience:y,sites:r.length>0?r.map((e=>e.cloudId)):void 0});return u.a.from(o.then((({response:e,requestDurationMs:t})=>this.mapConfSpace(e.retrieveScope(l.d.ConfluenceSpace),t))))}searchUsers(e,t,r){const n=[l.d.People],o=this.aggregatorClient.search({query:e,context:t,scopes:n,modelParams:[],resultLimit:g.PEOPLE_RESULT_LIMIT,filters:[],experience:y,sites:r.length>0?r.map((e=>e.cloudId)):void 0});return u.a.from(o.then((({response:e,requestDurationMs:t})=>this.mapCpusPeople(e.retrieveScope(l.d.People),t,r.length>0))))}getRecentPeople(e,t){const{fromCache:r,value:n}=this.bootstrapPeopleCache.get(e,t);return new u.a(n.then((e=>h(h({},e),{},{isCached:r}))))}async getProductPermissions(e){return this.permissionsDataCache||(this.permissionsDataCache=await this.aggregatorClient.getProductPermissions(e,y)),this.permissionsDataCache}async getAbTestData(){if(this.abTestDataCache)return this.abTestDataCache
;const e=await this.aggregatorClient.getAbTestData(l.d.ConfluencePageBlogAttachment,y);return this.abTestDataCache=e,e}mapConfItem(e,t){if(!e)throw new Error(`Expected a response but did not get any for scope: ${l.d.ConfluencePageBlogAttachment}`);if(e.error)throw Object(a.a)(e.error);function r(e){return e.replace(/@@@hl@@@|@@@endhl@@@/g,"")}return{items:e.results.map((e=>({resultId:e.content.id,name:r(e.title),href:`${e.baseUrl}${e.url}`,containerName:e.container.title,analyticsType:"result-confluence",contentType:`confluence-${e.content.type}`,resultType:"confluence-object-result",containerId:e.content.space&&e.content.space.id?e.content.space.id:"UNAVAILABLE",iconClass:e.iconCssClass,lastModified:e.lastModified,isRecentResult:!1}))),totalSize:void 0!==e.size?e.size:e.results.length,timings:t}}mapCpusPeople(e,t,r){if(!e)throw new Error(`Expected a response but did not get any for scope: ${l.d.People}`);if(e.error)throw Object(a.a)(e.error);const n=e.results.map((e=>{
const t=e.nickname||e.name;return{resultType:"person-result",resultId:`people-${e.account_id}`,userId:e.account_id,name:e.name,href:Object(d.c)(r,e.absoluteUrl,e.account_id),avatarUrl:e.picture,contentType:"person",analyticsType:"result-person",mentionName:t,presenceMessage:e.job_title||""}}));return{items:i()(n,(e=>e.resultId)),timings:t}}mapConfSpace(e,t){if(!e)throw new Error(`Expected a response but did not get any for scope: ${l.d.ConfluenceSpace}`);if(e.error)throw Object(a.a)(e.error);return{items:e.results.map((e=>({resultId:`space-${e.space.key}`,avatarUrl:`${e.baseUrl}${e.space.icon.path}`,name:e.container.title,href:`${e.baseUrl||""}${e.container.displayUrl}`,analyticsType:"result-confluence",resultType:"generic-container-result",contentType:"confluence-space",key:e.space.key}))),timings:t}}}o()(g,"ITEM_RESULT_LIMIT",30),o()(g,"SPACE_RESULT_LIMIT",10),o()(g,"PEOPLE_RESULT_LIMIT",10)},
"./node_modules/@atlassian/product-search-dialog/dist/es2019/confluence/clients/confluence-search-provider.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return D})),r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return M}))
;var n=r("./node_modules/@babel/runtime/helpers/extends.js"),o=r.n(n),s=r("./node_modules/react/index.js"),i=r.n(s),a=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/confluence/clients/confluence-search-client.js"),c=r("./node_modules/@atlaskit/adf-schema/node_modules/memoize-one/dist/memoize-one.esm.js"),l=r("./node_modules/deep-equal/index.js"),u=r.n(l),p=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),d=r.n(p),f=r("./node_modules/@atlaskit/util-service-support/dist/es2019/index.js"),h=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/timing.js"),m=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/cancellable-promise.js"),y=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/simple-cache.js");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),
r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class P{constructor({url:e,isCollaborationGraphEnabled:t,recentItemsSupplier:r},n){d()(this,"recentItemsSupplier",(async()=>{const e=this.serviceConfig.url,t=this.createRecentRequestPromise("rest/recentlyviewed/1.0/recent"),{result:r,durationMs:n}=await t,o=r.filter((e=>!!e.title)).map((t=>function(e,t){return{resultId:String(e.id),name:e.title||"",href:`${t}${e.url}`,containerName:e.space,analyticsType:"recent-confluence",resultType:"confluence-object-result",
contentType:`confluence-${e.contentType}`,iconClass:e.iconClass,containerId:e.spaceKey,isRecentResult:!0,lastModified:void 0}}(t,e)));return{items:o,totalSize:o.length,timings:n}})),d()(this,"recentSpacesSupplier",(()=>{if(this.isCollabGraphEnabled)return this.collaborationGraphClient.getContainers(["confluenceSpace"]).then((e=>function(e){return{items:e.collaborationGraphEntities.map((e=>{var t,r,n,o,s;return{id:null===(t=e.containerDetails)||void 0===t?void 0:t.id,key:null===(r=e.containerDetails)||void 0===r?void 0:r.key,icon:null===(n=e.containerDetails)||void 0===n?void 0:n.iconUrl,name:null===(o=e.containerDetails)||void 0===o?void 0:o.name,url:null===(s=e.containerDetails)||void 0===s?void 0:s.url,siteId:e.siteId}})).filter((e=>void 0!==e.id)).map((e=>O(e,e.url))),timings:e.timings}}(e)));return this.createRecentRequestPromise("rest/recentlyviewed/1.0/recent/spaces").then((({result:e,durationMs:t})=>({items:e.map((e=>O(e,`${this.baseUrl}/spaces/${e.key}`))),timings:t})))})),
this.serviceConfig={url:e},this.baseUrl=e,this.recentItemCache=new y.a(r||this.recentItemsSupplier),this.recentSpaceCache=new y.a(this.recentSpacesSupplier),this.collaborationGraphClient=n,this.isCollabGraphEnabled=t}getRecent(e){const{fromCache:t,value:r}=e.get();return m.a.from(r.then((e=>g(g({},e),{},{isCached:t}))))}getRecentItems(){return this.getRecent(this.recentItemCache)}getRecentSpaces(){return this.getRecent(this.recentSpaceCache)}createRecentRequestPromise(e){const t={path:e},r=f.b.requestService(this.serviceConfig,t);return Object(h.a)(r)}}function O(e,t){return{resultId:e.id,name:e.name,key:e.key,href:t,avatarUrl:e.icon,analyticsType:"recent-confluence",resultType:"generic-container-result",contentType:"confluence-space"}}var v=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/collaboration-graph-client/collaboration-graph-client.js"),I=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js")
;function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const C={collaborationGraphUrl:"gateway/api/collaboration",useCollaborationGraphForRecents:!1
},x=Object(c.default)(((e,t)=>new a.a(e,t)),u.a),A=Object(c.default)(((e,t)=>new P(e,t)),u.a),T=Object(c.default)((e=>new v.a({collaborationGraphUrl:e.collaborationGraphUrl,cloudId:e.cloudId,isMultiSite:e.isMultiSite,sites:e.sites})),u.a),R=i.a.createContext({}),U=new Error("Could not find all required Clients, make sure ConfluenceClientsProvider is created further up the tree"),D=e=>t=>i.a.createElement(R.Consumer,null,(({searchClient:r,recentClient:n,cloudId:s,siteUrl:a="",sites:c})=>{if(!r||!n)throw U;const l=_({},t);return i.a.createElement(e,o()({},l,{searchClient:r,recentClient:n,cloudId:s,siteUrl:a,sites:c}))})),k=({children:e,config:t})=>{const{baseUrl:r,cloudId:n,collaborationGraphUrl:o,aggregatorUrl:s,isUserAnonymous:a,useCollaborationGraphForRecents:c,recentItemsSupplier:l,sites:u=[]}=w(w({},C),t),p=Object(I.b)(t),d=T({collaborationGraphUrl:o,cloudId:n,isMultiSite:u.length>1,sites:u});return i.a.createElement(R.Provider,{value:{searchClient:x({isUserAnonymous:a,url:s,
cloudId:n,isCollaborationGraphEnabled:c,siteMasterList:u},d),recentClient:A({url:r,isCollaborationGraphEnabled:c,recentItemsSupplier:l},d),collabGraphClient:d,siteUrl:p,cloudId:n,sites:u}},e)},M=()=>{const e=i.a.useContext(R);if(!e.searchClient||!e.recentClient)throw U;return e}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/confluence/clients/response-types.js":function(e,t,r){"use strict";let n;r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return i})),function(e){e.ConfluencePageBlogAttachment="confluence.page,blogpost,attachment",e.ConfluencePageBlog="confluence.page,blogpost",e.ConfluenceSpace="confluence.space",e.People="cpus.user",e.UserConfluence="urs.user-confluence"}(n||(n={}));const o="confluence-page",s="confluence-blogpost",i="confluence-attachment"},"./node_modules/@atlassian/product-search-dialog/dist/es2019/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}))
;r("./node_modules/@babel/runtime/helpers/extends.js");var n=r("./node_modules/react/index.js"),o=r.n(n),s=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/product-search-input-skeleton/product-search-input-skeleton.js"),i=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/forward-ref.js");const a=o.a.lazy((()=>Promise.all([r.e("vendor~748942c6"),r.e("vendor~31ecd969"),r.e("vendor~f9ca8911"),r.e("229dc7ab49")]).then(r.bind(null,"./node_modules/@atlassian/product-search-dialog/dist/es2019/cross-product/cross-product-search-dialog.js"))));var c=Object(i.a)((e=>o.a.createElement(n.Suspense,{fallback:o.a.createElement(s.a,{theme:e.theme})},o.a.createElement(a,e))));r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/product-context/product-context.js");const l=c},"./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/jira-current-user-client.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),
r.d(t,"b",(function(){return h}));var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n),s=r("./node_modules/react/index.js"),i=r("./node_modules/@atlaskit/util-service-support/dist/es2019/index.js"),a=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/timing.js"),c=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/simple-cache.js"),l=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/jira-search-provider.js");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f{constructor({accountId:e,baseUrl:t,currentUserSupplier:r}){o()(this,"getCurrentUser",(()=>this.currentUserCache.get().value)),o()(this,"getUserSupplier",(async()=>{const{result:e,durationMs:t}=await this.makeRequest("/rest/api/3/user");return p(p({},e),{},{timings:t})})),this.serviceConfig={url:t},this.accountId=e,this.currentUserCache=new c.a(r||this.getUserSupplier)}async makeRequest(e){const t={path:e,queryParams:{accountId:this.accountId,expand:"applicationRoles"}};return Object(a.a)(i.b.requestService(this.serviceConfig,t))}}const h=(e={})=>{const[t,r]=Object(s.useState)(!1),[n,o]=Object(s.useState)(e),{currentUserClient:i}=Object(l.b)()
;return Object(s.useEffect)((()=>{if(!t){let e=!0;return null==i||i.getCurrentUser().then((n=>{e&&!t&&(o({id:n.accountId,name:n.displayName,avatarUrl:n.avatarUrls["24x24"],email:n.emailAddress,hasSoftwareAccess:n.applicationRoles.items.some((e=>"jira-software"===e.key))}),r(!0))})).catch((()=>{})),()=>{e=!1}}}),[i,t]),n}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/jira-search-client.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return I}))
;var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n),s=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/error-handler.js"),i=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/base-search-client.js"),a=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/response-types.js"),c=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/cancellable-promise.js"),l=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/simple-cache.js"),u=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/safety.js"),p=r("./node_modules/lodash/uniqBy.js"),d=r.n(p),f=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),
r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r){return{items:e.map((e=>{if(![a.a.board,a.a.project,a.a.filter,a.a.plan].includes(e.attributes["@type"]))throw new Error("Encountered incorrect result data shape.");const r=I(e.attributes["@type"]);return{resultId:e.id,name:e.name,href:e.url,contentType:r,attributes:e.attributes,isCached:t}})),timings:r,totalSize:e.length}}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const O="jira.nav-v3";class v{constructor(e){o()(this,"abTestDataCache",null),o()(this,"permissionsDataCache",null),o()(this,"recentIssuesSupplier",(async(e,t)=>{const r=await this.getItemResultLimit(),n=this.searchForScope("",[],e,[a.c.JiraIssue],r,!0,t)[a.c.JiraIssue];if(!n)throw new Error(`Failed to retrieve recent results for scope ${a.c.JiraIssue}`);return n.promise()})),
o()(this,"interleaveRecentBoardsProjectsFiltersPlans",((e,t)=>{const r=t.timings>e.timings?t.timings:e.timings,{items:n}=e;if(t.items.length>=2)for(;n.length>v.PROJECT_BOARD_FILTER_PLAN_LIMIT-2;)n.pop();else for(;n.length>v.PROJECT_BOARD_FILTER_PLAN_LIMIT-t.items.length;)n.pop();for(let o=0;n.length<v.PROJECT_BOARD_FILTER_PLAN_LIMIT&&t.items.length>o;o++)n.push(t.items[o]);return{timings:r,items:n,totalSize:n.length}})),o()(this,"search",((e,t,r,n,o,s)=>{const i=this.searchForScope(e,t,r,[a.c.JiraIssue],v.ITEM_RESULT_LIMIT,!1,s,n),c=o?[a.c.JiraBoardProjectFilterPlan]:[a.c.JiraBoardProjectFilter],l=o?v.PROJECT_BOARD_FILTER_PLAN_LIMIT:v.PROJECT_BOARD_FILTER_LIMIT,u=0===t.length?this.searchForScope(e,t,r,c,l,!1,s,n):{};return j(j({},i),u)})),o()(this,"searchForScope",((e,t,r,n,o,i,l=[],u)=>{const p=u||0===u?[{"@type":"queryParams",queryVersion:u}]:[],h=[];let y=null,g=null,P=null;t.forEach((e=>{switch(e.type){case"project":y||(y={"@type":"projects",projectIds:[]},h.push(y)),
y.projectIds.push(e.id);break;case"assignee":g||(g={"@type":"assignees",accountIds:[]},h.push(g)),g.accountIds.push(e.id);break;case"binary_status_category":P||(P={"@type":"binary_status_categories",binaryStatusCategories:[]},h.push(P)),P.binaryStatusCategories.push(e.id)}}));const v=this.aggregatorClient.search({query:e,context:r,scopes:n,modelParams:p,resultLimit:o,filters:h,experience:O,sites:l.length>0?l.map((e=>e.cloudId)):void 0});return n.reduce(((e,t)=>j(j({},e),{},{[t]:c.a.from(v.then((({response:e,requestDurationMs:r})=>{const n=e.retrieveScope(t);if(!n)throw new Error(`Expected a response but did not get any for scope: ${t}`);if(n.error)throw Object(s.a)(n.error);return t===a.c.JiraIssue?function(e,t,r){const{results:n,size:o}=e;return{items:n.map((e=>{if(e.attributes["@type"]!==a.a.issue)throw new Error("Encountered incorrect result data shape.");return{resultId:e.id,name:e.name,href:e.url,contentType:a.b.JiraIssue,attributes:m(m({},e.attributes),{},{isRecentResult:t}),
isCached:t}})),timings:r,totalSize:o||n.length}}(n,i,r):t===a.c.JiraPlan?function(e,t,r){if(!e)throw new Error(`Expected a response but did not get any for scope: ${a.c.JiraPlan}`);return{items:e.map((e=>({resultId:e.id,name:e.name,href:e.url,contentType:a.b.JiraPlan,attributes:e.attributes,isCached:t}))),timings:r,totalSize:e.length}}(n.results,i,r):t===a.c.JiraBoardProjectFilter||t===a.c.JiraBoardProjectFilterPlan?b(n.results,i,r):t===a.c.JiraProject?function(e,t,r){if(!e)throw new Error(`Expected a response but did not get any for scope: ${a.c.JiraProject}`);return{items:e.map((e=>({resultId:e.id,name:e.name,href:e.url,contentType:a.b.JiraProject,attributes:e.attributes,isCached:t}))),timings:r,totalSize:e.length}}(n.results,i,r):t===a.c.People?function(e,t,r,n){if(!e)throw new Error(`Expected a response but did not get any for scope: ${a.c.People}`);return{items:d()(e,(e=>e.id)).map((e=>({resultId:e.id,name:e.name,href:Object(f.c)(n,e.absoluteUrl,e.id,"jira"),
contentType:a.b.JiraPeople,attributes:{"@type":a.a.people,avatarUrl:e.avatarUrl,userId:e.id},isCached:t}))),timings:r,totalSize:e.length}}(n.results,i,r,l.length>0):void 0})))})),{})}));const{recentIssuesSupplier:t=null}=e;this.aggregatorClient=new i.a(e),this.recentPeopleCache=new l.a(((e,t)=>this.searchForPeopleScope("",e,!0,t))),this.recentIssuesCache=t?new l.a((e=>t())):new l.a(this.recentIssuesSupplier),this.recentBoardsProjectsFiltersCache=new l.a((async(e,t)=>{const r=this.searchForScope("",[],e,[a.c.JiraBoardProjectFilter],v.PROJECT_BOARD_FILTER_PLAN_LIMIT,!0,t)[a.c.JiraBoardProjectFilter];if(!r)throw new Error(`Failed to retrieve recent results for scope ${a.c.JiraBoardProjectFilter}`);return r.promise()})),this.recentPlansCache=new l.a((async(e,t)=>{const r=this.searchForScope("",[],e,[a.c.JiraPlan],v.PROJECT_BOARD_FILTER_PLAN_LIMIT,!0,t)[a.c.JiraPlan];if(!r)throw new Error(`Failed to retrieve recent results for scope ${a.c.JiraPlan}`);return r.promise()})),
this.recentProjectsCache=new l.a((async(e,t)=>{const r=this.searchForScope("",[],e,[a.c.JiraProject],v.PROJECT_RESULT_LIMIT,!0,t)[a.c.JiraProject];if(!r)throw new Error(`Failed to retrieve recent results for scope ${a.c.JiraProject}`);return r.promise()})),this.isUserAnonymous=e.isUserAnonymous}getRecent(e,t,r){const{fromCache:n,value:o}=e.get(t,Object(f.d)(r));return c.a.from(o.then((e=>j(j({},e),{},{isCached:n}))))}getRecentBoardsProjectsFiltersPlansInterleaved(e,t){const{fromCache:r,value:n}=this.recentBoardsProjectsFiltersCache.get(e,t),{fromCache:o,value:s}=this.recentPlansCache.get(e,t);return c.a.from(Promise.all([n,s]).then((e=>j(j({},this.interleaveRecentBoardsProjectsFiltersPlans(e[0],e[1])),{},{isCached:o&&r}))))}getRecentIssues(e,t){return this.getRecent(this.recentIssuesCache,e,t)}getRecentPlans(e,t){return this.getRecent(this.recentPlansCache,e,t)}getRecentProjects(e,t){return this.getRecent(this.recentProjectsCache,e,t)}getRecentBoardsProjectsFilters(e,t){
return this.getRecent(this.recentBoardsProjectsFiltersCache,e,t)}getRecentBoardsProjectsFiltersPlans(e,t){return this.getRecentBoardsProjectsFiltersPlansInterleaved(e,t)}async getProductPermissions(e){return this.permissionsDataCache||(this.permissionsDataCache=await this.aggregatorClient.getProductPermissions(e,O)),this.permissionsDataCache}async getAbTestData(){if(this.abTestDataCache)return this.abTestDataCache;const e=await this.aggregatorClient.getAbTestData(a.c.JiraIssue,O);return this.abTestDataCache=e,e}getRecentPeople(e,t){return this.getRecent(this.recentPeopleCache,e,t)}searchPeople(e,t,r){return c.a.from(this.searchForPeopleScope(e,t,!1,r))}searchForPeopleScope(e,t,r,n,o){if(this.isUserAnonymous)return Promise.resolve({items:[],timings:0,totalSize:0});const s=this.searchForScope(e,[],t,[a.c.People],v.PEOPLE_RESULT_LIMIT,r,n,o)[a.c.People];if(!s)throw new Error(`Failed to retrieve results for scope ${a.c.People}`);return s.promise()}searchProjects(e,t,r){
const n=this.searchForScope(e,[],t,[a.c.JiraProject],v.ITEM_RESULT_LIMIT,!1,r)[a.c.JiraProject];if(!n)throw new Error(`Failed to retrieve results for scope ${a.c.JiraProject}`);return n}async getItemResultLimit(){const e=await this.getAbTestData();return e&&e.experimentId===v.INCREASE_ISSUE_COUNT_EXPERIMENT_ID?v.EXPERIMENTAL_ITEM_RESULT_LIMIT:v.ITEM_RESULT_LIMIT}}function I(e){switch(e){case a.a.issue:return a.b.JiraIssue;case a.a.project:return a.b.JiraProject;case a.a.board:return a.b.JiraBoard;case a.a.filter:return a.b.JiraFilter;case a.a.plan:return a.b.JiraPlan;case a.a.people:return a.b.JiraPeople;default:throw new u.a(e)}}o()(v,"ITEM_RESULT_LIMIT",30),o()(v,"EXPERIMENTAL_ITEM_RESULT_LIMIT",50),o()(v,"INCREASE_ISSUE_COUNT_EXPERIMENT_ID","jira-prefetch-increase-issue-count"),o()(v,"PROJECT_BOARD_FILTER_LIMIT",6),o()(v,"PROJECT_BOARD_FILTER_PLAN_LIMIT",8),o()(v,"PROJECT_RESULT_LIMIT",10),o()(v,"PEOPLE_RESULT_LIMIT",10)},
"./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/jira-search-provider.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return g}));r("./node_modules/@babel/runtime/helpers/extends.js");var n=r("./node_modules/react/index.js"),o=r.n(n),s=r("./node_modules/deep-equal/index.js"),i=r.n(s),a=r("./node_modules/@atlaskit/adf-schema/node_modules/memoize-one/dist/memoize-one.esm.js"),c=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/jira-current-user-client.js"),l=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/jira-search-client.js"),u=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/collaboration-graph-client/collaboration-graph-client.js"),p=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js")
;const d="Jira search client has not been instantiated. This is most likely because you are missing a JiraSearchClientProvider.",f="gateway/api/collaboration",h=Object(a.default)((e=>new u.a({collaborationGraphUrl:e.collaborationGraphUrl,cloudId:e.cloudId,isMultiSite:e.isMultiSite,sites:e.sites})),i.a),m=Object(n.createContext)({}),y=[],b=({aggregatorUrl:e,cloudId:t,isUserAnonymous:r,collaborationGraphUrl:s,children:i,baseUrl:a,accountId:u,siteUrl:d="",recentIssuesSupplier:b,currentUserSupplier:g,sites:j=y})=>{d=Object(n.useMemo)((()=>Object(p.b)({siteUrl:d,sites:j})),[d,j]);const P=Object(n.useMemo)((()=>new l.a({siteMasterList:j,url:e,cloudId:t,isUserAnonymous:r,recentIssuesSupplier:b,siteUrl:d})),[e,t,r,b,d,j]),O=h({collaborationGraphUrl:s||f,cloudId:t,isMultiSite:j.length>1,sites:j}),v=Object(n.useMemo)((()=>u?new c.a({accountId:u,baseUrl:a,currentUserSupplier:g}):void 0),[u,a,g]);return o.a.createElement(m.Provider,{value:{searchClient:P,collabGraphClient:O,currentUserClient:v,
siteUrl:d,cloudId:t,sites:j}},i)};function g(){const{searchClient:e,collabGraphClient:t,currentUserClient:r,siteUrl:o,sites:s,cloudId:i}=Object(n.useContext)(m);if(!e)throw new Error(d);return{searchClient:e,collabGraphClient:t,currentUserClient:r,siteUrl:o,cloudId:i,sites:s}}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/response-types.js":function(e,t,r){"use strict";let n,o,s;function i(e){return Object.prototype.hasOwnProperty.call(e,"url")}r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return s})),function(e){e.JiraIssue="jira.issue",e.JiraPlan="jira.plan",e.JiraBoardProjectFilter="jira.board,project,filter",e.JiraBoardProjectFilterPlan="jira.board,project,filter,plan",e.JiraProject="jira.project",e.People="urs.user-jira"}(n||(n={})),function(e){e.JiraIssue="jira-issue",e.JiraBoard="jira-board",e.JiraProject="jira-project",e.JiraFilter="jira-filter",e.JiraPlan="jira-plan",
e.JiraPeople="jira-people"}(o||(o={})),function(e){e.issue="issue",e.board="board",e.project="project",e.filter="filter",e.plan="plan",e.people="people"}(s||(s={}))},"./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/cancellable-promise.js":function(e,t,r){"use strict";var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n);class s extends Error{constructor(...e){super(...e),o()(this,"isCancelled",!0)}}const i=new s("Promise is cancelled");class a{constructor(e){o()(this,"cancelInternal",(()=>{throw new Error("Programming error, cancelling promise is not properly rejected")})),o()(this,"promise",(()=>this.cancellablePromiseInternal)),o()(this,"cancel",(()=>this.cancelInternal())),this.cancellablePromiseInternal=Promise.race([e,new Promise(((e,t)=>{this.cancelInternal=()=>t(i)}))])}static from(e){return new a(e)}}t.a=a},"./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/forward-ref.js":function(e,t,r){"use strict"
;r.d(t,"a",(function(){return a}));var n=r("./node_modules/@babel/runtime/helpers/extends.js"),o=r.n(n),s=r("./node_modules/react/index.js"),i=r.n(s);const a=e=>i.a.forwardRef(((t,r)=>i.a.createElement(e,o()({},t,{forwardRef:r}))))},"./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/safety.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n extends Error{constructor(e){super(`Unreachable code was reachable, value: ${e}`)}}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/utils/simple-cache.js":function(t,r,n){"use strict";n.d(r,"a",(function(){return i}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(o);class i{constructor(e,t=null,r=i.DEFAULT_TIMEOUT_IN_MS){s()(this,"nextCacheRefreshTime",Date.now()),this.timeoutMs=r,this.supplier=e,this.currentValue=null,t&&(this.currentValue=t,this.updateNextRefreshTime())}get(...t){if(!this.currentValue||Date.now()>=this.nextCacheRefreshTime){this.updateNextRefreshTime()
;let n=new Error("");try{const e=this.supplier(...t);if(this.currentValue=e,this.currentValue)return{fromCache:!1,value:this.currentValue}}catch(e){this.invalidate(),n=e}var r;if(!this.currentValue)throw new Error(`Failed to initialise a value for the cache: ${null===(r=n)||void 0===r?void 0:r.stack}`)}return{fromCache:!0,value:this.currentValue}}invalidate(){this.nextCacheRefreshTime=Date.now()}updateNextRefreshTime(){this.nextCacheRefreshTime=Date.now()+this.timeoutMs}}s()(i,"DEFAULT_TIMEOUT_IN_MS",9e5)},"./node_modules/deep-equal/index.js":function(t,r,n){var o=n("./node_modules/object-keys/index.js"),s=n("./node_modules/is-arguments/index.js"),i=n("./node_modules/object-is/index.js"),a=n("./node_modules/is-regex/index.js"),c=n("./node_modules/regexp.prototype.flags/index.js"),l=n("./node_modules/is-date-object/index.js"),u=Date.prototype.getTime;function p(t,r,n){var h=n||{}
;return!!(h.strict?i(t,r):t===r)||(!t||!r||"object"!=typeof t&&"object"!=typeof r?h.strict?i(t,r):t==r:function(t,r,n){var i,h;if(typeof t!=typeof r)return!1;if(d(t)||d(r))return!1;if(t.prototype!==r.prototype)return!1;if(s(t)!==s(r))return!1;var m=a(t),y=a(r);if(m!==y)return!1;if(m||y)return t.source===r.source&&c(t)===c(r);if(l(t)&&l(r))return u.call(t)===u.call(r);var b=f(t),g=f(r);if(b!==g)return!1;if(b||g){if(t.length!==r.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==r[i])return!1;return!0}if(typeof t!=typeof r)return!1;try{var j=o(t),P=o(r)}catch(e){return!1}if(j.length!==P.length)return!1;for(j.sort(),P.sort(),i=j.length-1;i>=0;i--)if(j[i]!=P[i])return!1;for(i=j.length-1;i>=0;i--)if(!p(t[h=j[i]],r[h],n))return!1;return!0}(t,r,h))}function d(e){return null==e}function f(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}t.exports=p},
"./node_modules/define-properties/index.js":function(t,r,n){"use strict";var o=n("./node_modules/object-keys/index.js"),s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,c=Object.defineProperty,l=c&&function(){var t={};try{for(var r in c(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(e){return!1}}(),u=function(e,t,r,n){(!(t in e)||function(e){return"function"==typeof e&&"[object Function]"===i.call(e)}(n)&&n())&&(l?c(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},p=function(e,t){var r=arguments.length>2?arguments[2]:{},n=o(t);s&&(n=a.call(n,Object.getOwnPropertySymbols(t)));for(var i=0;i<n.length;i+=1)u(e,n[i],t[n[i]],r[n[i]])};p.supportsDescriptors=!!l,t.exports=p},"./node_modules/es-abstract/GetIntrinsic.js":function(t,r,n){"use strict";var o,s=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(e){i=null}var a=function(){throw new s},c=i?function(){try{return a}catch(e){
try{return i(arguments,"callee").get}catch(t){return a}}}():a,l=n("./node_modules/has-symbols/index.js")(),u=Object.getPrototypeOf||function(e){return e.__proto__},p=o,d=o,f=o,h=o,m="undefined"==typeof Uint8Array?o:u(Uint8Array),y={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":l?u([][Symbol.iterator]()):o,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":d,"%AsyncFunctionPrototype%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":f,"%AsyncGeneratorPrototype%":o,"%AsyncIteratorPrototype%":h&&l&&Symbol.asyncIterator?h[Symbol.asyncIterator]():o,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%Boolean%":Boolean,
"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?o:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?o:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?o:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?o:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":o,"%GeneratorFunction%":p,"%GeneratorPrototype%":o,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,
"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?o:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?o:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?o:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?u(u([][Symbol.iterator]())):o,"%JSON%":"object"==typeof JSON?JSON:o,"%JSONParse%":"object"==typeof JSON?JSON.parse:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?u((new Map)[Symbol.iterator]()):o,"%MapPrototype%":"undefined"==typeof Map?o:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,
"%Promise%":"undefined"==typeof Promise?o:Promise,"%PromisePrototype%":"undefined"==typeof Promise?o:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?o:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?o:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?o:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?o:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?u((new Set)[Symbol.iterator]()):o,"%SetPrototype%":"undefined"==typeof Set?o:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,
"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":l?u(""[Symbol.iterator]()):o,"%StringPrototype%":String.prototype,"%Symbol%":l?Symbol:o,"%SymbolPrototype%":l?Symbol.prototype:o,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":c,"%TypedArray%":m,"%TypedArrayPrototype%":m?m.prototype:o,"%TypeError%":s,"%TypeErrorPrototype%":s.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?o:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?o:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,
"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?o:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?o:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?o:WeakSet.prototype},b=n("./node_modules/function-bind/index.js").call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,P=function(e){var t=[];return b(e,g,(function(e,r,n,o){t[t.length]=n?b(o,j,"$1"):r||e})),t},O=function(e,t){if(!(e in y))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===y[e]&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return y[e]};t.exports=function(e,t){
if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=P(e),n=O("%"+(r.length>0?r[0]:"")+"%",t),o=1;o<r.length;o+=1)if(null!=n)if(i&&o+1>=r.length){var a=i(n,r[o]);if(!t&&!(r[o]in n))throw new s("base intrinsic for "+e+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},"./node_modules/es-abstract/helpers/callBind.js":function(e,t,r){"use strict";var n=r("./node_modules/function-bind/index.js"),o=r("./node_modules/es-abstract/GetIntrinsic.js")("%Function%"),s=o.apply,i=o.call;e.exports=function(){return n.apply(i,arguments)},e.exports.apply=function(){return n.apply(s,arguments)}},"./node_modules/function-bind/implementation.js":function(e,t,r){"use strict"
;var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,s=Object.prototype.toString,i="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||s.call(t)!==i)throw new TypeError(n+t);for(var r,a=o.call(arguments,1),c=function(){if(this instanceof r){var n=t.apply(this,a.concat(o.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(o.call(arguments)))},l=Math.max(0,t.length-a.length),u=[],p=0;p<l;p++)u.push("$"+p);if(r=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),t.prototype){var d=function(){};d.prototype=t.prototype,r.prototype=new d,d.prototype=null}return r}},"./node_modules/function-bind/index.js":function(e,t,r){"use strict";var n=r("./node_modules/function-bind/implementation.js");e.exports=Function.prototype.bind||n},"./node_modules/has-symbols/index.js":function(e,t,r){"use strict";(function(t){var n=t.Symbol,o=r("./node_modules/has-symbols/shams.js")
;e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/has-symbols/shams.js":function(e,t,r){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1
;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},"./node_modules/is-arguments/index.js":function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,s=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o.call(e)},i=function(e){return!!s(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o.call(e)&&"[object Function]"===o.call(e.callee)},a=function(){return s(arguments)}();s.isLegacyArguments=i,e.exports=a?s:i},"./node_modules/is-date-object/index.js":function(t,r,n){"use strict";var o=Date.prototype.getDay,s=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return o.call(t),!0}catch(e){return!1}
}(t):"[object Date]"===s.call(t))}},"./node_modules/is-regex/index.js":function(t,r,n){"use strict";var o,s,i,a,c=n("./node_modules/has-symbols/index.js")()&&"symbol"==typeof Symbol.toStringTag;if(c){o=Function.call.bind(Object.prototype.hasOwnProperty),s=Function.call.bind(RegExp.prototype.exec),i={};var l=function(){throw i};a={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var u=Object.prototype.toString,p=Object.getOwnPropertyDescriptor;t.exports=c?function(t){if(!t||"object"!=typeof t)return!1;var r=p(t,"lastIndex");if(!(r&&o(r,"value")))return!1;try{s(t,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u.call(e)}},"./node_modules/object-is/index.js":function(e,t,r){"use strict";var n=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},"./node_modules/object-keys/implementation.js":function(t,r,n){"use strict";var o
;if(!Object.keys){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n("./node_modules/object-keys/isArguments.js"),c=Object.prototype.propertyIsEnumerable,l=!c.call({toString:null},"toString"),u=c.call((function(){}),"prototype"),p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&s.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{d(window[t])}catch(e){return!0}}catch(e){return!0}return!1}()
;o=function(t){var r=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),o=a(t),c=r&&"[object String]"===i.call(t),f=[];if(!r&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var m=u&&n;if(c&&t.length>0&&!s.call(t,0))for(var y=0;y<t.length;++y)f.push(String(y));if(o&&t.length>0)for(var b=0;b<t.length;++b)f.push(String(b));else for(var g in t)m&&"prototype"===g||!s.call(t,g)||f.push(String(g));if(l)for(var j=function(t){if("undefined"==typeof window||!h)return d(t);try{return d(t)}catch(e){return!1}}(t),P=0;P<p.length;++P)j&&"constructor"===p[P]||!s.call(t,p[P])||f.push(p[P]);return f}}t.exports=o},"./node_modules/object-keys/index.js":function(e,t,r){"use strict";var n=Array.prototype.slice,o=r("./node_modules/object-keys/isArguments.js"),s=Object.keys,i=s?function(e){return s(e)}:r("./node_modules/object-keys/implementation.js"),a=Object.keys;i.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length
}(1,2)||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)}):Object.keys=i;return Object.keys||i},e.exports=i},"./node_modules/object-keys/isArguments.js":function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},"./node_modules/regexp.prototype.flags/implementation.js":function(e,t,r){"use strict";var n=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},"./node_modules/regexp.prototype.flags/index.js":function(e,t,r){"use strict"
;var n=r("./node_modules/define-properties/index.js"),o=r("./node_modules/es-abstract/helpers/callBind.js"),s=r("./node_modules/regexp.prototype.flags/implementation.js"),i=r("./node_modules/regexp.prototype.flags/polyfill.js"),a=r("./node_modules/regexp.prototype.flags/shim.js"),c=o(s);n(c,{getPolyfill:i,implementation:s,shim:a}),e.exports=c},"./node_modules/regexp.prototype.flags/polyfill.js":function(e,t,r){"use strict";var n=r("./node_modules/regexp.prototype.flags/implementation.js"),o=r("./node_modules/define-properties/index.js").supportsDescriptors,s=Object.getOwnPropertyDescriptor,i=TypeError;e.exports=function(){if(!o)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=s(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},"./node_modules/regexp.prototype.flags/shim.js":function(e,t,r){"use strict"
;var n=r("./node_modules/define-properties/index.js").supportsDescriptors,o=r("./node_modules/regexp.prototype.flags/polyfill.js"),s=Object.getOwnPropertyDescriptor,i=Object.defineProperty,a=TypeError,c=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!n||!c)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(l),r=s(t,"flags");return r&&r.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},"./src/packages/navigation-apps/atlassian-navigation/src/ui/search/main.js":function(e,t,r){"use strict";r.r(t),r.d(t,"useEffectFocusOnOpenDI",(function(){return k})),r.d(t,"Search",(function(){return L}))
;var n=r("./node_modules/react/index.js"),o=r.n(n),s=r("./node_modules/react-intl/lib/index.es.js"),i=r("./node_modules/@atlassiansox/engagekit/dist/esm/spotlight/index.js"),a=r("./node_modules/react-async-component/commonjs/index.js"),c=r("./node_modules/react-resource-router/build/esm/index.js"),l=r("./node_modules/@atlaskit/onboarding/dist/es2019/components/SpotlightTarget.js"),u=r("./src/packages/platform/ui/error-boundaries/src/ui/js-error-boundary/index.js"),p=r("./src/packages/platform/controllers/intl/src/index.js"),d=r("./src/packages/portfolio/services/plans-item-visibility/src/index.js"),f=r("./src/packages/platform/controllers/tenant-context/src/components/tenant-context/index.js"),h=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/index.js"),m=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/product-context/product-context.js"),y=r("./src/packages/navigation-apps/atlassian-navigation/src/common/constants.js"),b=r("./src/packages/navigation-apps/atlassian-navigation/src/common/utils/test-id.js"),g=r("./src/packages/navigation-apps/atlassian-navigation/src/controllers/navigation-item-analytics/main.js"),j=r("./src/packages/navigation-apps/atlassian-navigation/src/controllers/theme/main.js"),P=r("./src/packages/navigation-apps/atlassian-navigation/src/controllers/top-menus/main.js"),O=r("./src/packages/navigation-apps/atlassian-navigation/src/feature-flags.js"),v=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/jira-search-provider.js"),I=r("./node_modules/@atlassian/product-search-dialog/dist/es2019/confluence/clients/confluence-search-provider.js")
;function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _=({JiraSearchClientProvider:e=v.a,ConfluenceClientsProvider:t=I.a,children:r,cloudId:n,isAnonymous:s,baseUrl:i,atlassianAccountId:a})=>{const c={cloudId:n,isUserAnonymous:s,aggregatorUrl:`${i}/gateway/api/xpsearch-aggregator`,baseUrl:`${window.location.protocol}//${window.location.hostname}${i}`,
collaborationGraphUrl:"/gateway/api/collaboration",accountId:a};return o.a.createElement(e,c,o.a.createElement(t,{config:w(w({},c),{},{baseUrl:`${c.baseUrl}/wiki`})},r(c)))};_.displayName="ClientProvider";var C=Object(s.h)({updated:{id:"atlassian-navigation.search.updated",defaultMessage:"Updated"}}),x=r("./src/packages/navigation-apps/atlassian-navigation/src/ui/search/skeleton/index.js"),A=r("./node_modules/styled-components/dist/styled-components.browser.esm.js");const T=A.default.div(["input:not([type='checkbox']):not([type='radio']){border-bottom-right-radius:6px;}"]),R=A.default.div(["display:flex;justify-content:center;align-items:center;position:relative;"]);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const D=Object(a.asyncComponent)({
resolve:async()=>(await Promise.all([r.e("vendor~748942c6"),r.e("vendor~31ecd969"),r.e("vendor~f9ca8911"),r.e("async-extensible-search-dialog")]).then(r.bind(null,"./src/packages/navigation-apps/atlassian-navigation/src/ui/search/extensible-dialog/index.js"))).ExtensibleCrossProductSearchDialog,LoadingComponent:x.a}),k=(e,t)=>{Object(n.useEffect)((()=>{t&&setTimeout((()=>{e&&e.current&&e.current.focus()}),0)}),[t,e])},M=Object(b.b)("secondary-actions","search"),L=Object(n.forwardRef)((({CrossProductSearchDialog:e=h.a,ExtensibleCrossProductSearchDialog:t=D,ClientProvider:r=_,EngagementSpotlight:a=i.a,SearchInputOverrider:b=T,SearchInputWrapper:v=R,SpotlightTarget:I=l.a,useEffectFocusOnOpen:S=k,useNavigationItemAnalytics:w=g.a,useRouterActions:E=c.r,useTenantContext:x=f.c,useNavigationViewPlansPermission:A=d.c,useTheme:L=j.a,useTopMenus:F=P.a,JsErrorBoundary:J=u.a},$)=>{var N
;const B=Object(n.useRef)(),G=x(),{cloudId:q,baseUrl:z,isAnonymous:V,appPermissions:W,atlassianAccountId:H}=G,{formatMessage:X}=Object(p.c)(),K=L(),[Q,{on:Y,off:Z}]=F(y.c.SEARCH),ee=w({navigationItemId:y.e.SEARCH}),[te]=A(),re=Object(n.useCallback)((()=>{Y(),ee()}),[Y,ee]),ne=e=>`${X(C.updated)} ${e}`,{push:oe}=E();S($||B,Q);const se={isExpanded:Q,onOpen:re,onClose:Z,onNavigate:(e,t)=>{if(!t.ctrlKey&&!t.metaKey){var r,n,o,s,i,a;const c=null!==(r=null!==(n=null==t||null===(o=t.target)||void 0===o?void 0:o.href)&&void 0!==n?n:null===(s=t.target)||void 0===s||null===(i=s.closest)||void 0===i||null===(a=i.call(s,"a"))||void 0===a?void 0:a.href)&&void 0!==r?r:e;oe(c)}t.preventDefault()},jiraFeatures:{hasSoftwareAccess:W.hasSoftwareAccess,hasAdvancedRoadmapsAccess:te},formatDate:e=>(Date.now()-new Date(e))/864e5<8?o.a.createElement(s.e,{value:e},ne):o.a.createElement(s.a,{year:"numeric",month:"short",day:"2-digit",value:e},ne),theme:null==K||null===(N=K.mode)||void 0===N?void 0:N.search}
;return o.a.createElement(J,{id:"jira-quick-search",packageName:"product-search-dialog",fallback:"unmount"},o.a.createElement(r,{cloudId:q,baseUrl:z,isAnonymous:V,atlassianAccountId:H},(({aggregatorUrl:r})=>o.a.createElement(v,{"data-testid":M},o.a.createElement(b,null,o.a.createElement(I,{name:"search-spotlight"},o.a.createElement("div",null,Object(O.k)()?o.a.createElement(t,U({},se,{cloudId:q,aggregatorUrl:r,forwardRef:$||B})):o.a.createElement(e,U({},se,{products:[m.b.jira,m.b.confluence],ref:$||B})))),o.a.createElement(a,{engagementId:"search-spotlight"}))))))}))}}]);try{window.__jsEvalStop("async-atlassian-navigation-search.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-atlassian-navigation-search.4010003337a58b18ebbb.8.js.map